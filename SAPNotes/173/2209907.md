2209907 - Whitelist based Clickjacking Framing Protection in BW reports

**Symptom**

BW reports do not protect their applications against Clickjacking attacks.

**Other Terms**

UI redressing attack, Clickjacking, Framing Protection, Framing, IFrame, UI Redressing, Clickjacking Whitelist, X-FRAME-OPTIONS, BW-BEX-ET-WJR-RT, CRM, BW-BEX-ET-WJR

**Reason and Prerequisites**

Clickjacking is a UI-redressing attack where an attacker tricks a user into clicking on something different than what the user perceives. This attack leverages standard HTML functionalities without exploiting code vulnerabilities in the application. More details can be found at [OWASP Clickjacking](https://www.owasp.org/index.php/Clickjacking).

**Solution**

Standard protection measures against Clickjacking (such as the X-FRAME-OPTIONS header) are not suitable for common NetWeaver integration scenarios. Therefore, SAP provides a whitelist-based framework for NetWeaver technologies. This framework and its implementation are detailed in [SAP Note 2319727](https://me.sap.com/notes/2319727).

This SAP Note specifically addresses BW reports executing from the CRM portal.

**Correction Instructions**

To prevent Clickjacking attacks while executing BI reports from the CRM portal, a correction has been implemented. To enable this correction:

1. Add the `RSADMIN` parameter `RSWR_CLICKJACKING_ON` to the `RSADMIN` table in the BW system.
2. For further setup, refer to [Note 2169722](https://me.sap.com/notes/2169722) and [Note 2170590](https://me.sap.com/notes/2170590), which detail the parameters to be activated on the portal.

**Affected Software Components**

- BI-FW (From 2.0)
- BI-BASE-E (From 7.30, 7.31, 7.40, 7.50)
- BI-BASE-B (From 7.30, 7.31, 7.40, 7.50)
- BI-IBC (From 7.30, 7.31, 7.40, 7.50)
- BI-BASE-S (From 7.30, 7.31, 7.40, 7.50)
- SAP_BW (Versions 730, 731, 740, 750)
- BIWEBAPP (From 7.30, 7.31, 7.40, 7.50)

**References**

- [2170590 - Whitelist service for Clickjacking Framing Protection in AS JAVA](https://me.sap.com/notes/2170590)
- [2169722 - Whitelist based Clickjacking Framing Protection in Enterprise Portal](https://me.sap.com/notes/2169722)

For more detailed information, visit the [SAP Notes](https://me.sap.com/notes/2209907).

*Credits to [RedRays](https://redrays.io) for supporting the provided information.*