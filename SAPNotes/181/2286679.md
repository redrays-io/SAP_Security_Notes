2286679 - Whitelist Service API required for the Clickjacking Framing Protection in JAVA at the framework or application level

**SAP Security Note 2286679** addresses the need for configuring the whitelist clickjacking service in SAP NetWeaver Java platforms. This is essential to protect applications against clickjacking attacks, a type of UI redressing attack where users are tricked into clicking on something different from what they perceive.

### Symptom
Frameworks and Applications on the NetWeaver Java platform require the configuration needed to call the whitelist clickjacking service. This configuration allows the application to validate the server's configuration for protection against clickjacking.

### Reason and Prerequisites
Clickjacking is an attack that leverages standard HTML features without exploiting vulnerabilities in the application code. More details can be found at the [OWASP Clickjacking page](https://www.owasp.org/index.php/Clickjacking).

### Solution
Standard protection measures like the `X-FRAME-OPTIONS` header are insufficient for common NetWeaver integration scenarios. SAP provides a whitelist-based framework for NetWeaver technologies, detailed in [SAP Note 2319727](https://me.sap.com/notes/2319727).

**Key Methods Provided:**
- `getDefaultConfigParams(HttpServletRequest request)`: Provides configurable parameters for the custom protection script.
- `getDefaultProtection(HttpServletRequest request)`: Provides the default protection script.
- `getCustomProtection(HttpServletRequest request, ClickJackingProtectionConfiguration contentData)`: Provides a custom protection script using configurable parameters.
- `isClickjackingProtectionEnabled()`: Indicates whether clickjacking protection is enabled.

A new configuration parameter is introduced in [SAP Note 2493715](https://me.sap.com/notes/2493715), with updated documents to accommodate the new settings.

The clickjacking/check servlet determines the activation of clickjacking protection in SAP NetWeaver AS for Java. Refer to [SAP Note 2170590](https://me.sap.com/notes/2170590) for servlet availability across different releases and service packs.

### References
- [Additional Configuration Parameter for Clickjacking Service Configuration](https://me.sap.com/notes/2493715)
- [Clickjacking protection framework in SAP Netweaver AS ABAP and AS Java](https://me.sap.com/notes/2319727)
- [Whitelist service for Clickjacking Framing Protection in AS JAVA](https://me.sap.com/notes/2170590)

### Attachments
- [EJBServlet71X.java](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900000088752016&iv_version=0005&iv_guid=6EAE8B27F6791ED798ADB268C4CA40C9)
- [Servlet Output.pdf](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900000088752016&iv_version=0005&iv_guid=6CAE8B3EAEC31ED798ADB919380160CA)
- [Consumption of CJ service from EJB.pdf](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900000088752016&iv_version=0005&iv_guid=6CAE8B3EAC5B1ED798AE2DA5ABD8A0CD)
- [EJBServet70X.java](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900000088752016&iv_version=0005&iv_guid=6CAE8B3EAD2B1ED68FA0EE7798ADA0C0)

### CVSS
- **Score:** 4.3
- **Vector:** CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N

### Validity
Applicable to various versions of the LM NWA UI FRAMEWORK and Lifecycle Management Tools, including 7.00 up to 7.50 with specific support packages and patches.

For more details and to access the full SAP Note, visit [SAP Support Portal](https://me.sap.com/notes/2286679).

Credits to [redrays.io](https://redrays.io) for support in providing this information.