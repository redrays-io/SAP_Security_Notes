2276601 - Switchable authorization checks for RFC in CRM-Sales of Subscription based Series

**Summary**

This SAP Security Note introduces new switchable authorization checks for RFC function modules in the Sales of Subscription based Series within the CRM component. The checks are designed to enhance system security by ensuring that remote calls to RFC function modules are protected with appropriate authorization objects.

**Description**

**Symptom**
Remote calls to RFC function modules are currently protected by checks on the authorization object `S_RFC`. However, it has been identified that these checks might not be sufficient to ensure secure execution for certain RFC function modules in the Sales of Subscription based Series. This could potentially allow unauthorized access or actions within the system.

**Reason and Prerequisites**
To maintain system security, authorizations for `S_RFC` should be limited to the minimum necessary for all users. While many RFC function modules are adequately protected using `S_RFC` authorization checks, some do not perform additional functional authorization checks. Activating the new switchable authorization checks will provide an extra layer of security for these functions.

**Solution**
New switchable authorization checks have been implemented and delivered inactive by default to ensure compatibility with existing processes. These checks can be activated using transaction `SACF`. Detailed manual correction instructions are provided within the note.

**Affected Business Processes and Roles**
- Payment processing of Subscription based Series Sales

**Affected RFC Function Modules**
- `CRM_MPS_DECODE_REF_NUMBER`
- `CRM_MPS_PAYMENT_PROCESSING`
- `CRM_MPS_ORDER_PAYER_GET`

**Implementation of the Switchable Authorization Check**
1. **Technical Implementation:**
   - Apply the support package or correction instructions provided in the note to implement the switchable authorization checks in your system. The checks remain inactive until manually activated.
   
2. **Activation Steps:**
   - **Step 1:** Ensure the scenario definition `CRM_ISM_MPS` exists in `SACF`. If not, download the attached `CRM_ISM_MPS.TXT` file from the note and upload it using transaction `SACF_TRANSFER`. Assign the scenario to the development package `CRM_MEDIA_SALES_SERIES`.
   - **Step 2:** Create the productive authorization scenario and activate the switchable authorization checks. Refer to SAP Note 1922808 for detailed instructions on activating the checks and ensuring all required authorizations are in place.

**Downloads**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000013464292017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0002276601?language=en-US&token=AB61BA5283ABDF2595A3404E0296E152)

**Support Package**
- BBPCRM 700: [SAPKU70018](https://me.sap.com/supportpackage/SAPKU70018)
- BBPCRM 701: [SAPKU70115](https://me.sap.com/supportpackage/SAPKU70115)
- BBPCRM 702: [SAPKU70217](https://me.sap.com/supportpackage/SAPKU70217)
- BBPCRM 712: [SAPKU71210](https://me.sap.com/supportpackage/SAPKU71210)
- BBPCRM 713: [SAPKU71312](https://me.sap.com/supportpackage/SAPKU71312)
- BBPCRM 714: [SAPK-71402INBBPCRM](https://me.sap.com/supportpackage/SAPK-71402INBBPCRM)

**Prerequisites**
- Ensure SAP Note [2236076](https://me.sap.com/notes/2236076) is applied for your respective CRM-BTX component versions across releases 700, 701, 702, and 713.

**Attachments**
- [CRM_ISM_MPS.TXT](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000349802016&iv_version=0001&iv_guid=6CAE8B27F6DB1ED68291CA4890EDCF36) (454 KB)

**References**
- SAP Note 2008727: [RFC Security](https://me.sap.com/notes/2008727)
- SAP Note 1922808: [Switchable Authorization Check Framework (SACF)](https://me.sap.com/notes/1922808)

**Credits**
Information supported by [RedRays.io](https://redrays.io).