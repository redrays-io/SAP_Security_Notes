SAP Security Note 2522527: Switchable Authorization Checks for RFC of SD/FI-CA Integration

**Overview**

SAP Security Note [2522527](https://me.sap.com/notes/0002522527) introduces new switchable authorization checks for RFC function modules within the SD/FI-CA integration in distributed systems. This enhancement aims to bolster the security framework by ensuring that remote function calls (RFCs) are adequately protected through refined authorization mechanisms.

**Key Details**

- **Title:** Switchable authorization checks for RFC of SD/FI-CA integration for distributed systems
- **Type:** SAP Security Note
- **Version:** 2
- **Release Status:** Released for Customer
- **Released On:** August 2, 2018
- **Component:** Sales and Distribution > Billing (SD-BIL)
- **Priority:** Correction with medium priority

**Description**

The note addresses the need to activate new authorization checks for specific RFC function modules used in the integration between Sales & Distribution (SD) and Contract Accounts Receivable and Payable (FI-CA) across distributed systems. By default, these checks are inactive to maintain compatibility with existing processes but can be activated to enhance security.

**Solution**

1. **Activation of Authorization Checks:**
   - Access transaction `SACF` to verify the existence of the scenario definition `SD_FKK_DISTR_SYS`.
   - If absent, download the [SD_FKK_DISTR_SYS.TXT](https://me.sap.com/notes/0002522527/SAPKH60620) attachment.
   - Use transaction `SACF_TRANSFER` to upload and assign the scenario definition to the development package `VFKK_OBJECTS`.
   - Follow the detailed steps provided in the manual activities section of the note to complete the activation.

2. **Affected RFC Function Modules:**
   - `VFKK_RFC_CONSISTENCY_CHECK`
   - `VFKK_RFC_READ_DOCSTAT`
   - `VFKK_RFC_SET_DOCSTAT_FOR_SD`
   - `VFKK_RFC_UPDATE_VBRK`
   - `VFKK_RFC_READ_VBRK`
   - `VFKK_RFC_SET_RFBSK_FOR_SD`

   These modules are integral to ensuring the consistency and status updates of SD invoices in the central FI-CA system.

**Implementation Steps**

- **Step 1:** Verify and create the authorization scenario in your development system via `SACF`.
- **Step 2:** Activate the switchable authorization checks post system updates using `SACF_COMPARE`.

For a comprehensive guide, refer to the [manual activities](https://me.sap.com/notes/0002522527) section within the SAP Note.

**Attachments**

- [SD_FKK_DISTR_SYS.TXT](https://me.sap.com/notes/0002522527/attachments/SD_FKK_DISTR_SYS.TXT) (6 KB)

**References**

- [SAP Note 2216306](https://me.sap.com/notes/2216306) – Recommended and obsolete settings of the profile parameter `auth/rfc_authority_check`.
- [SAP Note 2008727](https://me.sap.com/notes/2008727) – Whitepaper on Securing Remote Function Calls (RFC).
- [SAP Note 1922808](https://me.sap.com/notes/1922808) – Switchable framework for authorization checks (SACF).

**Support Packages**

Ensure that your system includes the relevant support packages as listed in the note to facilitate smooth implementation.

**Prerequisites**

- Ensure that SAP Note [2091277](https://me.sap.com/notes/2091277) is applied for systems running SAP_APPL from release 606 to 618.

**Credits**

Information supported by [Redrays](https://redrays.io).