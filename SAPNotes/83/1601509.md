SAP Security Note 1601509 - Potential disclosure of persisted data in CRM-ISA-TEC

**SAP Note Number:** 1601509  
**Type:** SAP Security Note  
**Version:** 4  
**Recency:** New  
**Language:** English  
**Category:** Program error  
**Priority:** Correction with high priority  
**Status:** Released for Customer  
**Released On:** 08.11.2011  
**Component:** Customer Relationship Management > Internet Sales > Technical Infrastructure

### Description

**Symptom:**  
A malicious user can potentially exploit the Dynamic UI Persistency of CRM Web Channel and use specially crafted inputs to modify database commands. This results in either the retrieval of additional information or the modification of data persisted by the system.

**Reason and Prerequisites:**  
The problem is caused by an SQL injection vulnerability. The code composes an SQL statement that contains strings that can be altered by a malicious user. The manipulated SQL statement can then be used to retrieve additional data from the database or to modify the data.

**Solution:**  
For correction, apply the correction instructions of the note that is available for your support package.

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009508102017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001601509?language=en-US&token=BCD4686E639DDC9EB242B425DDDA2FEE)
- [Correction Instructions](https://me.sap.com/corrins/0001601509/63)

### Support Packages

| Software Component Version | Support Package | URL |
|----------------------------|-----------------|-----|
| BBPCRM 700                 | SAPKU70011      | [SAPKU70011](https://me.sap.com/supportpackage/SAPKU70011) |
| BBPCRM 701                 | SAPKU70107      | [SAPKU70107](https://me.sap.com/supportpackage/SAPKU70107) |
| BBPCRM 702                 | SAPKU70202      | [SAPKU70202](https://me.sap.com/supportpackage/SAPKU70202) |

### Preconditions

- **BBPCRM 700:**  
  - [SAP Note 1488431](https://me.sap.com/notes/1488431) - Potential SQL injection in dynamic UI framework

- **BBPCRM 701:**  
  - [SAP Note 1488431](https://me.sap.com/notes/1488431) - Potential SQL injection in dynamic UI framework

- **BBPCRM 702:**  
  - [SAP Note 1633081](https://me.sap.com/notes/1633081) - Error Message 'Incorrect call of function module ...'

### Correction Instructions Details

A new message is required for the correction. Create message 014 in the message class CRM_ISALES_CONFIG_UI with the following message text:

- `'Incorrect call of function module &1.'`

Or create it with a corresponding translation into the required languages. Select the "Self-explanat'y" checkbox for this message.

### Credits

Thanks to [Redrays](https://redrays.io) for providing support to the information.