SAP Security Note 1506858 - Security updates for Live Auction Cockpit

**Overview**

SAP Security Note **1506858** addresses critical security updates for the **Live Auction Cockpit** within the **Supplier Relationship Management (SRM)** component of SAP. This note resolves a **Cross Site Request Forgery (XSRF)** vulnerability and issues related to the re-login requirement when **HTTPOnly** cookie settings are enabled.

**Details**

- **Number:** 1506858
- **Title:** Security updates for Live Auction Cockpit
- **Type:** SAP Security Note
- **Category:** Program Error
- **Priority:** Correction with high priority
- **Status:** Released for Customer
- **Released On:** 14.12.2010
- **Component:** SRM-LA (Supplier Relationship Management > Live Auction)
- **Affected Versions:** SRM_SERVER 500, 550, 600, 700, 701

**Issues Addressed**

1. **Cross Site Request Forgery (XSRF) Vulnerability** in Live Auction Cockpit.
2. **Re-Login Requirement** when **HTTPOnly** cookie settings are enabled, due to the behavior of the Sun JAVA Plugin with the NetWeaver Web Server.

**Solution**

To mitigate the identified vulnerabilities, follow these steps:

1. **Apply Correction Instructions:**
   - Access the [Correction Instructions](https://me.sap.com/corrins/0001506858/551) and follow the provided guidelines to implement the necessary fixes.

2. **Update Live Auction Web Presentation Server (LACWPS):**
   - If you're using **LACWPS on JAVA**, download and install the latest patch from the [SAP Service Marketplace](https://me.sap.com/support_package/SAPKIBKU06) corresponding to your LACWPS release version.

**Prerequisites**

Ensure your system meets the following prerequisites before applying the security updates:

- **SAP Notes:**
  - [1473419](https://me.sap.com/notes/1473419): ABAP Live Auction does not work correctly in Safari browser
  - [1475605](https://me.sap.com/notes/1475605): Unauthorized modification of displayed content in SRM LAC
  - [1506858](https://me.sap.com/notes/1506858): Security updates for Live Auction Cockpit

**Download Links**

- **Download for SNOTE:** [https://notesdownloads.sap.com/note/0040000008928122017](https://notesdownloads.sap.com/note/0040000008928122017)
- **PDF Version:** [https://userapps.support.sap.com/sap/support/sfm/notes/print/0001506858?language=en-US&token=9374C6B1D99353D9DC5E17A5EAA21C75](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001506858?language=en-US&token=9374C6B1D99353D9DC5E17A5EAA21C75)

**Manual Steps**

Before applying the corrections, perform the following manual activities:

1. **For SRM_SERVER Release 701 and 700:**
   - Execute transaction `SE80` and search for the BSP application `/SAPSRM/BSP_JAVA_APPLET`.
   - Navigate to the `MIMEs/lib` folder and delete the following MIME objects:
     - `srmlaInitiator.jar`
     - `srmlaRespondent.jar`
   - Execute transaction `SE91`:
     - Provide message class as `BBP_LA` and press the **Change** button.
     - Enter the text `"Error in Client ID creation; contact system administration"` in the **Message Short text** column corresponding to the Message ID `080`.
     - Save and exit the transaction.

2. **Additional Steps for Other Releases:**
   - Similar steps as above should be performed for SRM_SERVER Releases 550, 600, and 500, adjusting the valid support package versions accordingly.

Refer to the [Correction Instructions](https://me.sap.com/corrins/0001506858/551) for detailed steps tailored to your specific SRM_SERVER version.

**Support Packages**

Ensure the appropriate support packages are applied for your SRM_SERVER version:

- **SRM_SERVER 500:** [SAPKIBKS17](https://me.sap.com/supportpackage/SAPKIBKS17)
- **SRM_SERVER 550:** [SAPKIBKT18](https://me.sap.com/supportpackage/SAPKIBKT18)
- **SRM_SERVER 600:** [SAPKIBKU06](https://me.sap.com/supportpackage/SAPKIBKU06)
- **SRM_SERVER 700:** [SAPKIBKV10](https://me.sap.com/supportpackage/SAPKIBKV10)
- **SRM_SERVER 701:** 
  - [SAPK-70103INSRMSRV](https://me.sap.com/supportpackage/SAPK-70103INSRMSRV)
  - [SAPK-70102INSRMSRV](https://me.sap.com/supportpackage/SAPK-70102INSRMSRV)

**Additional References**

- [Note 1658516](https://me.sap.com/notes/1658516): Applets fail due to XSRF protection (COOKIE_NOT_FOUND)
- [Note 1532777](https://me.sap.com/notes/1532777): Collective Note: ABAP Session Protection Recommendations
- [Note 1420203](https://me.sap.com/notes/1420203): Enable foreign access to a stateful HTTP session
- [Note 943336](https://me.sap.com/notes/943336): HttpOnly cookie attribute

**Credits**

Credits to [Redrays](https://redrays.io) for support in providing this information.