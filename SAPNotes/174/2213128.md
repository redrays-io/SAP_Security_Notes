2213128 - Switchable authorization checks for RFCs in GBT integration component GBTRINT in ERP

---

**SAP Security Note 2213128**

**Title:** Switchable authorization checks for RFCs in GBT integration component GBTRINT in ERP

**Description:**
This SAP Note introduces new switchable authorization checks for RFC function modules within the GBT integration component GBTRINT in ERP. It aims to enhance security by ensuring that remote function calls are appropriately authorized.

**Symptom:**
Remote calls to RFC function modules are currently protected by the authorization object `S_RFC`. However, this may not be sufficient to guarantee secure execution for certain RFC function modules covered by this note.

**Reason and Prerequisites:**
The existing `S_RFC` authorization checks might not fully secure the execution of RFC function modules in the GBT integration component. To address this, new authorization checks need to be activated, and corresponding roles must be updated.

**Solution:**
1. **Activate Switchable Authorization Checks:**
   - Implement BAdI `/GBTINT/EX_AUTHORITY_CHECK` by copying the example implementation and activating it.
   - Ensure that users have the new authorities before activation to prevent authorization issues.

2. **Update User Roles:**
   - Enhance user roles with authorities from the corresponding `SAP_GBTINT_RFC` roles.
   - Create necessary authorization objects, data elements, system messages, and roles as outlined in the manual correction instructions.

3. **Manual Activities:**
   - Perform manual creation of domains, data elements, system messages, and authorization objects using transactions SE11, SE91, SU21, and SU20.
   - Maintain roles using transaction PFCG for roles like `SAP_GBTINT_RFC_CONFIG`, `SAP_GBTINT_RFC_DATA_TRANSFER`, `SAP_GBTINT_RFC_VERIFICATION`, and `SAP_GBTINT_RFC_DISPLAY`.

**Implementation Steps:**
1. **Classify User Activities:**
   - Determine if user activities correspond to roles such as `SAP_GBTINT_RFC_CONFIG`, `SAP_GBTINT_RFC_DATA_TRANSFER`, etc.

2. **Enhance Roles:**
   - Update roles with the necessary authorities from the `SAP_GBTINT_RFC` roles.

3. **Implement BAdI:**
   - Copy and activate the example implementation of BAdI `/GBTINT/EX_AUTHORITY_CHECK`.

**Download and Print:**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000013092202017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002213128?language=en-US&token=4B8521F203B5D131868240223C02B0E9)

**Prerequisites:**
- Ensure that the support package `SAPK-10012INGBTRINT` is applied to your system.
- Refer to SAP Note [2146365](https://me.sap.com/notes/2146365) for validation report considerations.

**References:**
- [SAP Note 2213128](https://me.sap.com/notes/2213128)
- [SAP Note 2240084](https://me.sap.com/notes/2240084)
- [SAP Note 2008727](https://me.sap.com/notes/2008727)
- [SAP Note 1481950](https://me.sap.com/notes/1481950)

*Please ensure to follow the detailed manual correction instructions provided within the SAP Note for a successful implementation.*

Credits to [redrays.io](https://redrays.io) for support to provided information.