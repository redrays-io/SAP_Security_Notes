SAP Security Note 3459935: CVE-2024-33003 Information Disclosure Vulnerability in SAP Commerce Cloud

**Symptom**
Some OCC API endpoints in SAP Commerce Cloud allow Personally Identifiable Information (PII) such as passwords, email addresses, mobile numbers, coupon codes, and voucher codes to be included in the request URL as query or path parameters. Successful exploitation can lead to high impact on the confidentiality and integrity of the application.

**Impact**
- **Confidentiality**: High
- **Integrity**: High
- **Availability**: None
- **CVSS Score**: 7.4

**Solution**
SAP Commerce Cloud addresses this vulnerability by providing new variants of the affected OCC API endpoints that pass confidential data through request body parameters only. The old, vulnerable endpoints are deprecated.

**Available Patches:**
- [SAP Commerce Patch Release 2205.28](https://me.sap.com/help/SAP_COMMERCE/eed845124da0491e875df8139c4e6e8c/f9b65161e1e645249542e59f42f64a7b.html?version=2205)
- [SAP Commerce Cloud Update Release 2211.28](https://me.sap.com/help/SAP_COMMERCE_CLOUD_PUBLIC_CLOUD/12be4ac419604b01aabb1adeb2c4c8a2/f9b65161e1e645249542e59f42f64a7b.html)

**Manual Remediation Steps**
- Update client-side code to use the new, secure OCC API endpoints listed in the security note.
- Refer to the [Swagger UI](https://me.sap.com/occ/v2/swagger-ui/index.html) for the updated API documentation.

**Workaround**
For customers unable to upgrade immediately:
1. **Alternative 1**: Include query parameters in the request body with `application/x-www-form-urlencoded` content type.
2. **Alternative 2**: Avoid passing confidential data in the URL by adjusting client-side code as described above.

**Software Downloads**
- [SAP Commerce Cloud in Public Cloud](https://me.sap.com/#/softwarecenter/template/products/_APP=00200682500000001943&_EVENT=NEXT&HEADER=Y&FUNCTIONBAR=Y&EVENT=TREE&NE=NAVIGATE&ENR=73555000100800001224&V=MAINT&TA=ACTUAL/SAP%20COMMERCE%20CLOUD%20V2)
- [SAP Commerce On-Premise](https://me.sap.com/#/softwarecenter/template/products/_APP=00200682500000001943&_EVENT=DISPHIER&HEADER=Y&FUNCTIONBAR=N&EVENT=TREE&NE=NAVIGATE&ENR=67837800100800007216&V=INST&TA=ACTUAL&PAGE=SEARCH/SAP%20COMMERCE)

**Additional Information**
- For detailed installation instructions, refer to the respective [build](https://me.sap.com/help/SAP_COMMERCE_CLOUD_PUBLIC_CLOUD/75d4c3895cb346008545900bffe851ce/8c25978386691014b4abdd61376acd24.html?locale=en-US) and [deploy](https://me.sap.com/help/SAP_COMMERCE_CLOUD_PUBLIC_CLOUD/75d4c3895cb346008545900bffe851ce/8c25978386691014b4abdd61376acd24.html?locale=en-US) guides.

**References**
- [CVE-2024-33003 Details](https://www.cve.org/CVERecord?id=CVE-2024-33003)

*Credits to [redrays.io](https://redrays.io) for support to provided information.*