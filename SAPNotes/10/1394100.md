SAP Security Note 1394100: Access to RFC-enabled modules via SOAP

**Header Data**
- **SAP Note/KBA**: 1394100
- **Type**: SAP Security Note
- **Version**: 3
- **Recency**: Updated
- **Language**: English
- **Master Language**: German
- **Category**: Consulting
- **Priority**: Correction with high priority
- **Release Status**: Released for Customer
- **Released On**: 15.10.2009
- **Component**: Basis Components > Middleware > Internet Communication Framework

**Symptom**
The unrequired execution of remote-enabled function modules occurs via SOAP and the HTTP channel if a particular ICF service was activated incorrectly, or if the definition of an RFC authorization was not restrictive enough.

**Other Terms**
SOAP, Simple Object Access Protocol, RFC, Remote Function Call, ICF, Internet Communication Framework, security

**Reason and Prerequisites**
If the service `/sap/bc/soap/rfc` is activated in transaction `SICF`, it is possible to access remote-enabled function modules in the ABAP system if the user has the relevant authorizations (see [Note 93254](https://me.sap.com/notes/93254)).

This may lead to a security risk for ABAP systems in internet or intranet scenarios (also see the standard passwords in [Note 40689](https://me.sap.com/notes/40689)).

Also refer to [Note 626073](https://me.sap.com/notes/626073).

**Solution**
Check whether the service in your landscape is used for particular software solutions. If not, the following applies:

- **For releases higher than 610**: Deactivate the service `/sap/bc/soap/rfc` in transaction `SICF`.
- **For Release 610**: In the "SAP Authorization" field on the "Service Data" tab page, maintain an authorization value for the service `/sap/bc/soap/rfc`, to which no user in the system is assigned. For more information about this, refer to the input help of the field.

If the use of this service is not known, you can find this out by analyzing the ICMan server log, for example. When ICMan logging is activated, you will find the server log entries in transaction `SMICM` → `Goto` → `HTTP Log`. The documentation of the ICMan server log is on the [SAP Help Portal](https://help.sap.com/saphelp_webas620/helpdata/en/73/b5f99d019f11d5991400508b6b8b11/content.htm) for Release 620.

If the service `/sap/bc/soap/rfc` is used in your landscape for software solutions, check whether the authorizations that have been defined for the user that is used in the solution are restrictive enough.

As of Web Application Server 640 (SAP NetWeaver 2004), use the Web Service Framework. For more information about migration, see the [SOAP Migration Guide 6.20 to 6.40](https://me.sap.com/connectors/SOAP%20Processor/Media%20Library/SOAP%20Migration%20Guide%206.20%20to%206.40). The migration enables dedicated activation or deactivation for each Web Service entry in the `SICF` transaction under `/sap/bc/srt`.

**References**
This document refers to:
- [1504652: Consulting: Secure Configuration of Application Server ABAP](https://me.sap.com/notes/1504652)
- [1487606: IDoc inbound processing via HTTP/SOAP](https://me.sap.com/notes/1487606)
- [1394093: Collective Security Note](https://me.sap.com/notes/1394093)
- [626073: Unreleased Internet Communication Framework services](https://me.sap.com/notes/626073)
- [93254: RFC short dump RFC_NO_AUTHORITY](https://me.sap.com/notes/93254)
- [40689: New reports for the User Information System](https://me.sap.com/notes/40689)

This document is referenced by:
- [93254: RFC short dump RFC_NO_AUTHORITY](https://me.sap.com/notes/93254)
- [1740018: Briefing at Black Hat conference on July 26th, 2012](https://me.sap.com/notes/1740018)
- [1504652: Consulting: Secure Configuration of Application Server ABAP](https://me.sap.com/notes/1504652)
- [40689: New reports for the User Information System](https://me.sap.com/notes/40689)

**Downloads**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000016883702017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001394100?language=en-US&token=1345063B9B808718B708DBD2DDD677F7)
- [Show Changes](https://me.sap.com/notesLatestChanges/0001394100/E/diff)

**Translations**
Available in multiple languages:
- [日本語](https://me.sap.com/notes/0001394100/J)
- [Deutsch (Origin)](https://me.sap.com/notes/0001394100/D)
- [Português (Machine Translation)](https://me.sap.com/notes/0001394100/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0001394100/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0001394100/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0001394100/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0001394100/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0001394100/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0001394100/3)

**Side Effects**
- **This document solves side effects**: None
- **This document is causing side effects**: None

---

_Credits to [RedRays](https://redrays.io) for support and provided information._