1387574 - Possible SQL injection in Persistence Service

## SAP Security Note 1387574

**Type:** SAP Security Note  
**Version:** 6  
**Released On:** 22.06.2010  
**Component:** Basis Components > ABAP Runtime Environment - ABAP Language Issues Only > Syntax, Compiler, Runtime > ABAP Object Services (Persistent Objects)

---

### Description

#### Symptom
This note provides information about a possible SQL injection in the Persistence Service of the Object Services.

#### Other Terms
Object Services, Persistence Service, Query Service, persistent classes, SAPSQL_LIKE_QUOTES, SAPSQL_WHERE_QUOTES

### Reason and Prerequisites
Using the Persistence Service and Query Service of the Object Services to load persistent objects into the roll area can lead to the following issues if a parameter table (parameter `I_PARAMETER_TAB` of the method `GET_PERSISTENT_BY_QUERY` of the class `actor`) is used to transfer the actual values for the search condition:

- **SQL Injection**
- **Runtime Errors**: `SAPSQL_LIKE_QUOTES` or `SAPSQL_WHERE_QUOTES`

### Solution
To address these issues, the runtime environment of the Object Services must correctly handle the input values. The error is fixed in the specified Support Package. Alternatively, you can implement the changes in advance by following the provided correction instructions.

### Support Packages
To resolve the issue, apply the appropriate Support Package based on your SAP_BASIS version:

| Software Component Version | Support Package | Link |
|----------------------------|-----------------|------|
| SAP_BASIS 700              | SAPKB70022      | [SAPKB70022](https://me.sap.com/supportpackage/SAPKB70022) |
| SAP_BASIS 700              | SAPKB70023      | [SAPKB70023](https://me.sap.com/supportpackage/SAPKB70023) |
| SAP_BASIS 701              | SAPKB70107      | [SAPKB70107](https://me.sap.com/supportpackage/SAPKB70107) |
| SAP_BASIS 701              | SAPKB70108      | [SAPKB70108](https://me.sap.com/supportpackage/SAPKB70108) |
| SAP_BASIS 702              | SAPKB70205      | [SAPKB70205](https://me.sap.com/supportpackage/SAPKB70205) |
| SAP_BASIS 710              | SAPKB71011      | [SAPKB71011](https://me.sap.com/supportpackage/SAPKB71011) |
| SAP_BASIS 710              | SAPKB71010      | [SAPKB71010](https://me.sap.com/supportpackage/SAPKB71010) |
| SAP_BASIS 711              | SAPKB71105      | [SAPKB71105](https://me.sap.com/supportpackage/SAPKB71105) |
| SAP_BASIS 711              | SAPKB71106      | [SAPKB71106](https://me.sap.com/supportpackage/SAPKB71106) |
| SAP_BASIS 720              | SAPKB72003      | [SAPKB72003](https://me.sap.com/supportpackage/SAPKB72003) |
| SAP_BASIS 720              | SAPKB72004      | [SAPKB72004](https://me.sap.com/supportpackage/SAPKB72004) |

### Correction Instructions
Implement the necessary changes using the provided correction instructions:

- [Correction Instructions for SAP_BASIS](https://me.sap.com/corrins/0001387574/41)

### References
This document refers to:

- **SAP Note 888889**: [Automatic checks for security notes using RSECNOTE (outdated)](https://me.sap.com/notes/888889)

This document is referenced by:

- **SAP Note 888889**: [Automatic checks for security notes using RSECNOTE (outdated)](https://me.sap.com/notes/888889)

### Download Links
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008182122017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001387574?language=en-US&token=BDD7CE5706AB18C20B34999CD1ED4826)

---

*Credits to [redrays.io](https://redrays.io) for support with the provided information.*