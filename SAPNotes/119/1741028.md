SAP Security Note 1741028 - Unauthorized modification of displayed content in JBM Web

## Symptom

JBM Web-bidding can be abused by an attacker, allowing them to modify displayed application content without authorization and potentially obtain authentication information from other legitimate users.

## Other Terms

- Reflected cross-site scripting (XSS)
- JBM

## Reason and Prerequisites

Web bidding BSPs: `/JBM/ACCEPT_BID` and `/JBM/ACCEPT_BID_RU` within JBM do not sufficiently encode input and output parameters, resulting in a reflected cross-site scripting issue. A reflected XSS attack can be used to non-permanently deface or modify displayed content from a website.

Reflected XSS can be used to steal another user's authentication information, such as data relating to their current session. An attacker who gains access to this data may use it to impersonate the user and access all information with the same rights as the target user. If an administrator is impersonated, the security of the application may be fully compromised.

## Solution

The string-based kiosk parameter was removed and changed to a `CHAR1` internally. The parameter is now stored in a server-side cookie instead of being passed page to page.

In addition, all pages now encode with `<%@page language="abap" forceEncode="html"%>`.

Please apply the following correction via transaction SNOTE: [Download for SNOTE](https://notesdownloads.sap.com/note/0040000010345152017)

For a PDF version of this note, visit [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0001741028?language=en-US&token=A10B7A185EE025B7A2D67E893BCB5439).

## Affected Software Components

- **Software Component:** JBM
  - **From:** 700
  - **To:** 700

## Support Package

- **Software Component Version:** JBM 700
- **Support Package:** SAPK-70001INJBM
- [View Support Package](https://me.sap.com/supportpackage/SAPK-70001INJBM)

## Correction Instructions

- **Software Component:** JBM
- **Number of Correction Instructions:** 1
- [View Correction Instructions](https://me.sap.com/corrins/0001741028/1334)

## Preconditions

This security note requires the following prerequisites:

1. **SAP Note 1687777** - [JBM 700 CAT - Web 'Accept' Error & Spelling](https://me.sap.com/notes/1687777) *(Component: XX-PROJ-CDP-016)*
2. **SAP Note 1689765** - [JBM 700 CAT Web:90 Day Bid Restriction message is Inaccura](https://me.sap.com/notes/1689765) *(Component: XX-PROJ-CDP-016)*
3. **SAP Note 1689832** - [JBM 700 CAT eBidding](https://me.sap.com/notes/1689832) *(Component: XX-PROJ-CDP-016)*
4. **SAP Note 1694477** - [JBM 700 CAT eBidding](https://me.sap.com/notes/1694477) *(Component: XX-PROJ-CDP-016)*
5. **SAP Note 1696348** - [JBM 700 CAT - Submit Accept Web Bidding](https://me.sap.com/notes/1696348) *(Component: XX-PROJ-CDP-016)*
6. **SAP Note 1721727** - [JBM 700 SCR 905 - RR selection options & Accept Bids msgs](https://me.sap.com/notes/1721727) *(Component: XX-PROJ-CDP-016)*

## References

This document refers to no other SAP Notes or KBAs.

This document is not referenced by any other SAP Notes or KBAs.

---

*Credits to [RedRays](https://redrays.io) for support in providing this information.*