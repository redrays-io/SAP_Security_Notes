1648138 - Insecure default configuration of ACLs in KM repositories

**Symptom**

After installation, all KM repositories and their subfolders have the default permission **Everyone: Full Control**. Since all users belong to the Everyone-user-group by default, it may allow newly registered users to access and compromise the repositories and documents.

**CVSS Information**

- **CVSS Base Score:** 6.5
- **CVSS Base Vector:** AV:N/AC:L/Au:S/C:P/I:P/A:P

> SAP is providing this CVSS base score as an estimate of the risk posed by the issue reported in this note. This estimate does not take into consideration your own system configuration, or operational environment. It is not intended to replace any risk assessments you are advised to conduct when deciding the applicability or priority of this SAP security note. Please see the FAQ section on [SAP Security Notes](https://me.sap.com/securitynotes/) for more information.

**Other Terms**

KM System Administration

**Reason and Prerequisites**

The ACL's configuration has insecure default configuration values after the initial installation of Enterprise Portal. This may result in undesired system behavior.

**Affected Versions:**

- SAP NetWeaver 04
- SAP NetWeaver 7.0
- SAP EHP1 FOR SAP NETWEAVER 7.0
- SAP EHP2 FOR SAP NETWEAVER 7.0

**Solution**

To restrict access to KM repositories and to secure content and configurations, appropriate permissions have to be assigned. A CTC configuration task assigns permissions to the following repositories:

- pccruntime
- pccshrcontent
- room_extensions
- room_publicarea_structures
- room_store_cm
- room_structures
- rooms
- runtime
- workflow
- attachment

The executions of the configuration for SAP NETWEAVER 7.30 can be found in the Knowledge Management section of the following link:

[Knowledge Management Configuration](http://help.sap.com/saphelp_nw73/helpdata/en/42/89749d882d1422e10000000a114cbd/frameset.htm)

For other KM repositories see [Note 1499993](https://me.sap.com/notes/1499993).

**Additional Information:**

A.) For more information about the affected releases, see the "SP Patch Level" tab page of this SAP note. For more information about the SP Stack schedule and updates, see [SP Stacks Maintenance Schedule](https://me.sap.com/sp-stacks).

B.) **Manual solution for:**
- SAP NetWeaver 04
- SAP NetWeaver 7.0
- SAP EHP1 FOR SAP NETWEAVER 7.0
- SAP EHP2 FOR SAP NETWEAVER 7.0

is to apply the steps described in [Note 599425](https://me.sap.com/notes/599425).

**Validity**

This security note is applicable to the following software components and versions:

- **LM-PORTAL:** 7.30, 7.31
- **KMC-BC:** 7.30, 7.31
- **KMC-CM:** 7.30, 7.31

**Support Package Patches**

Various support packages are available for different software component versions. Please refer to the specific URLs provided in the original note for detailed patch information.

**Credits**

Credits to [RedRays](https://redrays.io) for support in providing this information.