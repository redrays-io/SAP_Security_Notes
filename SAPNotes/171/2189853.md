2189853 - SAP Internet Communication Framework fails to validate HTTP_WHITELIST

**Description**
  
This SAP Security Note addresses an issue in the SAP Internet Communication Framework (ICF) where public services fail to validate the Access Control List (ACL) information in the table `HTTP_WHITELIST` and do not log out users correctly. Specifically, in public services, SAP ICF was validating the ACL against client "000" instead of the target client and performing logout operations in client "000" instead of the target client. This behavior inadvertently allowed open access to public services across all clients and could cause session contexts to persist longer than expected.

**Solution**

The correction ensures that SAP ICF validates the ACL against the `HTTP_WHITELIST` of the target client rather than client "000". Additionally, logout operations are now correctly performed in the target client. 

**Important:**
Before applying this correction, verify that the configuration of the `HTTP_WHITELIST` table in target clients (other than client "000") aligns with your security requirements to prevent unintended access.

**Release Information**

- **Release Date:** July 14, 2020
- **Version:** 5
- **Priority:** Correction with medium priority
- **Status:** Released for Customer

**Download Links**

- [Download for SNOTE](https://me.sap.com/notes/0040000012968162017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0002189853?language=en-US&token=10F5B46F8F7CE153FA1D3E073842BECF)

**CVSS Score**

- **Score:** 5.0
- **Vector:** [CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:L/A:L](https://me.sap.com/cvss/3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:L/A:L)

**Prerequisites**

Ensure that the following SAP Notes are applied before implementing this correction:

- [1240538](https://me.sap.com/notes/1240538) - Improving URL filter for sap-themeRoot
- [1242305](https://me.sap.com/notes/1242305) - CL_HTTP_UTILITY ENCODE_BASE64/DECODE_BASE64
- [1263252](https://me.sap.com/notes/1263252) - ICF: Special characters in file names during download
- [1274793](https://me.sap.com/notes/1274793) - BSP: HTTP Allowlist Check fails for port entries
- ... *(additional prerequisites listed in the SAP Note)*

**Support Packages**

Applicable Support Packages for various SAP_BASIS versions can be found [here](https://me.sap.com/supportpackage/SAPKB70033).

*Credits: [redrays.io](https://redrays.io)*