SAP Security Note 3535451: Information Disclosure Vulnerability (CVE-2024-47577) in SAP Commerce Cloud

**Summary**

SAP has released Security Note **3535451** addressing an information disclosure vulnerability (**CVE-2024-47577**) in **SAP Commerce Cloud**. This vulnerability affects the Assisted Service Module, potentially exposing limited customer data through server logs.

**Vulnerability Details**

- **CVE Identifier:** [CVE-2024-47577](https://www.cve.org/CVERecord?id=CVE-2024-47577)
- **Type:** Information Disclosure
- **CVSS Score:** 2.7
- **Affected Component:** Customer Engagement and Commerce > SAP Commerce Cloud > Commerce > Assisted Services (CEC-SCC-COM-AS)
- **Release Status:** Released for Customer on 09.12.2024

**Description**

The Assisted Service Module's webservice API endpoints in SAP Commerce Cloud include customer data in the request URLs when authorized agents search for customers. These URLs are logged on the server. An attacker impersonating an authorized admin with access to server logs could access this customer data. However, the leaked data is extremely limited, and the attacker has no control over what data is exposed.

**Affected API Endpoints**

Vulnerable endpoints:
- `GET https://{server}/assistedservicewebservices/customers/search`
- `GET https://{server}/assistedservicewebservices/customers/autocomplete`

**Solution**

SAP Commerce (Cloud) resolves this vulnerability by introducing new variants of the affected API endpoints that pass data through request body parameters instead of URLs. The old, vulnerable endpoints are deprecated.

**Upgrades Required**

Apply the following releases to address the vulnerability:
- [SAP Commerce Patch Release 2205.31](https://me.sap.com/docs/SAP_COMMERCE/eed845124da0491e875df8139c4e6e8c/f9b65161e1e645249542e59f42f64a7b.html?version=2205)
- [SAP Commerce Cloud Update Release 2211.31](https://me.sap.com/docs/SAP_COMMERCE_CLOUD_PUBLIC_CLOUD/12be4ac419604b01aabb1adeb2c4c8a2/f9b65161e1e645249542e59f42f64a7b.html)

After installing the patches, customers need to rebuild and redeploy the updated SAP Commerce Cloud version.

**Manual Remediation Steps**

After upgrading to the patches, switch your composable storefront to use the new API endpoints:

New endpoints:
- `POST https://{server}/assistedservicewebservices/customers/search`
- `POST https://{server}/assistedservicewebservices/customers/suggestions/search`

**Workarounds**

None available.

**Additional Information**

- Only composable storefronts consuming the affected API endpoints are impacted.
- Accelerator storefronts are not impacted.

**References**

- [Software Downloads for SAP Commerce Cloud in the Public Cloud](https://me.sap.com/launchpad.support.sap.com/#/softwarecenter/template/products/_APP=00200682500000001943&_EVENT=NEXT&HEADER=Y&FUNCTIONBAR=Y&EVENT=TREE&NE=NAVIGATE&ENR=73555000100800001224&V=MAINT&TA=ACTUAL/SAP%20COMMERCE%20CLOUD%20V2)
- [Software Downloads for SAP Commerce On-Premise](https://me.sap.com/launchpad.support.sap.com/#/softwarecenter/template/products/%20_APP=00200682500000001943&_EVENT=DISPHIER&HEADER=Y&FUNCTIONBAR=N&EVENT=TREE&NE=NAVIGATE&ENR=67837800100800007216&V=INST&TA=ACTUAL&PAGE=SEARCH/SAP%20COMMERCE)

**Credits**

Thanks to [Redrays.io](https://redrays.io) for supporting the provision of this information.