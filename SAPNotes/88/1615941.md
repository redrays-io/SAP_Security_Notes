1615941 - Portal XSS Encoding Library - StringUtils

```markdown
**SAP Note Number**: [1615941](https://me.sap.com/notes/1615941)

**Title**: Portal XSS Encoding Library - StringUtils

**Type**: SAP Security Note

**Version**: 3

**Language**: English

**Released On**: May 8, 2012

### **Description**

Enterprise Portal is vulnerable to reflected Cross-Site Scripting (XSS) attacks due to insufficient encoding of output parameters by the deprecated `StringUtils` library. A malicious user can exploit this vulnerability to modify displayed application content without authorization and potentially steal authentication information from other legitimate users.

### **Affected Components**

- **Component**: EP-PIN (Enterprise Portal (On Premise))
- **Versions**: Various versions from 6.0_640 to 7.31

*(Refer to the SAP Note for a complete list of affected software components and versions.)*

### **Solution**

To address this vulnerability, follow one of the following approaches:

1. **Migrate to the New XSS Encoding Library (Recommended)**

   - Update your implementations to use the new XSS encoding library as detailed in [SAP Note 866020](https://me.sap.com/notes/866020).

2. **Enable the Portal XSS Switch**

   - If updating your code is not feasible, enable the portal XSS switch by adding the following system parameter to the JVM using the Config Tool:
     ```
     com.sap.portal.security.xssencode=1
     ```
   - This setting delegates all calls to the deprecated `StringUtils` API to the new `XSSEncoder` library, enhancing XSS protection.

**Important**: Continuing to use the deprecated `StringUtils` library may leave your portal vulnerable to XSS attacks.

### **Additional References**

- [HTMLB: 1653473](https://me.sap.com/notes/1653473)
- [WD JAVA: 1653474](https://me.sap.com/notes/1653474)
- [XSS Encoding Guide: 866020](https://me.sap.com/notes/866020)

### **Downloads**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000017283952017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001615941?language=en-US&token=14921F671F4A8B6CFF225CABB6D991B6)

For more details and updates, visit [SAP Support](https://me.sap.com/).

---

Credits to [https://redrays.io](https://redrays.io) for support in providing this information.
```