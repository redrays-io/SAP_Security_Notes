SAP Security Note 1609146: Potential disclosure of persisted data in IS-H-PM

```markdown
**SAP Security Note 1609146**

**Title:** Potential disclosure of persisted data in IS-H-PM

**Description:**
An attacker can exploit IS-H-PM by using specially crafted inputs to modify database commands, resulting in the retrieval of additional information persisted by the system.

**Affected Components:**
- Industry-Specific Components > Hospital > Patient Management (IS-H-PM)
- Industry-Specific Components > Hospital > Patient Accounting (IS-H-PA)

**Reason and Prerequisites:**
The issue is caused by an SQL injection vulnerability. The affected code composes an SQL statement that includes strings which can be altered by an attacker. This manipulated SQL statement can then be used to retrieve data from the database.

**Solution:**
An advance correction is available. Follow the correction instructions below to mitigate the vulnerability.

**Correction Instructions:**
1. **Transaction:** SE37
2. **Function Module:** `ISH_FIELD_VALIDATE_VALUE`
3. **Create the Function Module:**
   - Click on **Create**.
   - **Function Group:** NAUT
   - **Short Text:** Filter special characters from field values
   - **Development Class:** NBAS
4. **Define Parameters:**
   - **Import Parameter:** `I_VALUE` TYPE `STRING`
   - **Export Parameter:** `E_VALIDATED_VALUE` TYPE `STRING`
5. **Implement the Logic:**
   - Add the necessary ABAP code to filter special characters from field values.
6. **Save and Activate** the function module.

**Download Links:**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009556052017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001609146?language=en-US&token=33E49CEDC53FD124E72712A5B613AE28)

**Support Package Information:**
Ensure you have the latest support packages applied for the following software component versions:
- **IS-H 463B:** SAPKIPHD59
- **IS-H 472:** SAPKIPHF45
- **IS-H 600:** SAPK-60029INISH
- **IS-H 602:** SAPK-60218INISH
- **IS-H 603:** SAPK-60318INISH
- **IS-H 604:** SAPK-60418INISH
- **IS-H 605:** SAPK-60509INISH

**Credits:**
Thanks to [Redrays](https://redrays.io) for supporting the provision of this information.
```