2023207 - Switchable authorization checks for RFC in IS-T-CA

# SAP Security Note 2023207: Switchable Authorization Checks for RFC in IS-T-CA

## Description

This SAP Security Note introduces new switchable authorization checks for RFC function modules in the IS-T-CA component. The enhancement ensures that remote calls to RFC function modules are secured by additional authorization checks beyond the standard `S_RFC` object.

## Symptom

While the `S_RFC` authorization object provides a layer of security for RFC function modules, it may not be sufficient for all scenarios within IS-T-CA. Certain RFC function modules require additional authorization checks to ensure secure execution.

## Reason and Prerequisites

- **Reason:** Identified that `S_RFC` checks alone might not guarantee secure execution for specific RFC function modules in IS-T-CA.
- **Prerequisites:** Ensure that the system meets the software component requirements listed below.

## Solution

### Implementation of Switchable Authorization Checks

1. **New Authorization Scenario:**
   - **Name:** FKK_IST_TDATA
   - **Purpose:** Controls access to telco reference objects in the `IST_TDATA` table.
   - **Authorization Objects:**
     - `F_KKVK_BUK`
     - `F_KKVK_VKT`
     - `F_KKVK_BEG`
   - **ACTVT Values:**
     - `IST_TDATA_DELETE` - `02 (Change)`
     - `IST_TDATA_INSERT` - `01 (Create)`
     - `IST_TDATA_SEARCH` - `03 (Display)`
     - `IST_TDATA_UPDATE` - `02 (Change)`

### Activation Steps

#### Step 1: Create the Authorization Scenario Definition

- **Transaction:** `SACF`
- **Check:** If `FKK_IST_TDATA` exists.
- **If Not Exists:**
  - Download the [FKK_IST_TDATA.TXT](https://me.sap.com/notes/0002023207/FKK_IST_TDATA.TXT) file.
  - Use transaction `SACF_TRANSFER` to upload the scenario definition.
  - Assign to development package `IST30`.

#### Step 2: Create the Productive Authorization Scenario

- **Transaction:** `SACF`
- **Action:** Transfer the scenario definition to a productive scenario.
- **Status Options:**
  - **Active:** Activates authorization check and logging.
  - **Logging:** Activates logging only, allowing authorization checks to pass for identification purposes.

#### Step 3: Activate Logging in Security Audit Log

- **Transaction:** `SM19`
- **Configuration:**
  - Ensure Security Audit Log is active.
  - Create a new filter for relevant audit messages:
    - Non-Critical: `DUO`, `DUP`
    - Critical: `DUQ`
  
#### Step 4: Adjust User Roles

- **Report:** `RSAU_SELECT_EVENTS`
- **Action:** Identify and adjust user authorizations based on audit messages and system traces (`STAUTHTRACE` or `ST01`).

## Affected Components

- **Component:** IS-T-CA
- **Affected RFC Function Modules:**
  - `IST_TDATA_DELETE`
  - `IST_TDATA_INSERT`
  - `IST_TDATA_SEARCH`
  - `IST_TDATA_UPDATE`

## Downloads

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000012029662017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002023207?language=en-US&token=6137622664D8AB688586271F31BC52A6)

## Additional References

- [SAP Note 2078596: Further improvements for RFC security](https://me.sap.com/notes/2078596)
- [SAP Note 1624291: Syntax error when implementing a security note](https://me.sap.com/notes/1624291)

## System Requirements

Applicable for IS-UT component versions: 600, 602, 603, 604, 605, 606, 616, 617.

## Support Package Information

Refer to the [Support Package details](https://me.sap.com/supportpackage/SAPK-60026INISUT) for each supported version.

## Credits

Thanks to [Red Rays](https://redrays.io) for supporting the provision of this information.