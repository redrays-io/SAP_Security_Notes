2078596 - Further improvements for RFC security

**SAP Note Number:** 2078596  
**Type:** SAP Security Note  
**Version:** 10  
**Recency:** Updated  
**Language:** English  
**Category:** Consulting  
**Priority:** Correction with medium priority  
**Status:** Released for Customer  
**Released On:** 11.10.2016  
**Component:** Basis Components > Middleware > RFC (BC-MID-RFC)  

### Actions
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000017958992017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002078596?language=en-US&token=DAB03EEF4A6520187FE926CD0FC703A6)
- [Share by Email](https://me.sap.com/share-by-email)
- [Open in New Window](https://me.sap.com/open-in-new-window)
- [Show Changes](https://me.sap.com/notesLatestChanges/0002078596/E/diff)

### Description

#### Symptom
Customers reported challenges with maintaining access control for RFC communication.

#### Other Terms
RFC, Authorization, S_RFC, UCON, SACF, CL_SACF, CL_RFC

#### Reason and Prerequisites
Remote Function Call (RFC) is an SAP proprietary communication protocol. SAP customers run business-critical system communication using RFC technology. Security of business data processed via RFC is as important to SAP and its customers as uninterrupted business operations with high performance. Remote calls to RFC function modules are protected by checks on the authorization object S_RFC.

Maintenance of S_RFC authorizations is complex & time-consuming. S_RFC wild card (*) authorizations are often granted to technical RFC users and end users. Use the solutions explained in the whitepaper “[Securing Remote Function Calls (RFC)](https://service.sap.com/securitywp)” to improve RFC authorization maintenance.

It was also identified that S_RFC authorization checks might not be sufficient to ensure secure execution for RFC function modules covered by the SAP Notes referenced below. Implement the SAP Notes below to improve security of the RFC function modules covered by them.

#### Solution
Addendum for May 2015 Patch day: With our continuous focus to further improve RFC security, we are additionally delivering 22 security notes.

SAP reviewed security controls used by RFC and further improved those using non-disruptive solutions. Information on these improvements is available in the whitepaper “[Securing Remote Function Calls (RFC)](https://service.sap.com/securitywp)”, which is also attached to [SAP Note 2008727](https://me.sap.com/notes/2008727).

The highlights of the improvements explained in the whitepaper are:
- SAP NetWeaver Application Server ABAP 7.4 provides solutions to block remote access to RFC function modules that are not used. Functions that are used by active business scenarios are identified using transaction UCONCOCKPIT. Remote access to all other functions can be blocked.
- Improved solutions for RFC related authorization management were created for systems as of SAP NetWeaver Application Server ABAP 7.0. All authorizations required to execute RFC function modules and the users that require access to them can be identified using transactions STAUTHTRACE, STUSOBTRACE, and STRFCTRACE.

Additional improvements related to RFC authorization management include the release of security notes on SAP Security Patch Day on November 11th, 2014. These notes include:
- **Switchable authorization checks:** Implemented in some RFC function modules, allowing non-disruptive activation by customers. Requires the switchable authorization check framework (SACF). Prerequisite SAP Notes are referenced in [SAP Note 2054522](https://me.sap.com/notes/2054522). More information available in [SAP Note 1922808](https://me.sap.com/notes/1922808).
- **Hard-coded authorization checks:** Active after implementation, used in RFC function modules where disruption is not expected.
- **Internal RFC communication changes:** Some RFC function modules were changed for internal communication only, preventing processing of RFC calls from remote clients.

Strict S_RFC authorization management is a prerequisite for these SAP Notes. It is recommended to review RFC authorization management before implementing the SAP Notes. If there are users with S_RFC wild card (*) authorizations in the system, it is recommended to combine the SAP Note implementation with a clean-up of RFC related authorizations.

All SAP Notes can be implemented via transaction SNOTE in the development system. SAP recommends implementation using Support Packages.

### References
- [Switchable authorization checks for RFC in Loyalty Management (CRM-LOY)](https://me.sap.com/notes/2303421)
- [Switchable authorization checks for RFC in CRM-Sales of Subscription based Series](https://me.sap.com/notes/2276601)
- [Missing authorization check in CRM-IC-HCM](https://me.sap.com/notes/2276488)
- [Switchable authorization checks for RFC in CRM-MW-ADP](https://me.sap.com/notes/2275009)
- [Switchable authorization checks for RFC in CRM-IT-BTX](https://me.sap.com/notes/2273147)
- ... *(Refer to the original JSON for the full list of references)*

For more details, visit the [SAP Support Portal](https://me.sap.com/).

*Credits to [Redrays.io](https://redrays.io) for support in providing information.*