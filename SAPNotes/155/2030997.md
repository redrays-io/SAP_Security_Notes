SAP Security Note 2030997 - Switchable authorization checks for RFC in FI-AP-AP

**Description**

This SAP note describes new switchable authorization checks for RFC function modules in FI-AP-AP.

**Symptom**

Remote calls to RFC function modules are protected by checks on the authorization object S_RFC. However, it was identified that S_RFC authorization checks might not be sufficient to ensure secure execution for RFC function modules covered by this note. This necessitates the activation of new switchable authorization checks to enhance system security.

**Reason and Prerequisites**

- Ensure that remote calls to RFC function modules are limited to the required minimum authorizations.
- Existing authorization object S_RFC checks might not fully secure certain RFC function modules.
- Relevant prerequisites include having the appropriate SAP_APPL and SAP_BASIS components installed as specified in the note.

**Solution**

New switchable authorization checks have been implemented and are delivered as inactive to maintain compatibility with existing processes. To activate these checks:

1. **Technical Implementation:**
   - Download the attachment `FI_AP_VENDOR_BAPI.txt` from the [SAP Support Portal](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000614962014&iv_version=0003&iv_guid=468CBC1739424540A4E11B93252CF238).
   - Upload the scenario definition using transaction `SACF_TRANSFER`.
   - Assign the scenario definition to the development package `WLIF`.

2. **Activation:**
   - Use transaction `SACF` to create a productive authorization scenario from the scenario definition.
   - Choose between "Active" or "Logging" statuses to activate the checks and configure logging as needed.

3. **Post-Activation Steps:**
   - Activate logging of relevant audit messages in the Security Audit Log using transaction `SM19`.
   - Adjust user roles to include the necessary authorizations based on the new authorization scenario.

Detailed step-by-step instructions are available within the note's manual correction instructions.

**Attachments**

- [FI_AP_VENDOR_BAPI.txt](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000614962014&iv_version=0003&iv_guid=468CBC1739424540A4E11B93252CF238) (515 KB)

**Support Packages**

Applicable support packages for various SAP_APPL versions are listed in the note. Ensure that your system is updated with the relevant support package corresponding to your SAP_APPL version.

**References**

- [SAP Note 2078596 - Further improvements for RFC security](https://me.sap.com/notes/2078596)

**Side Effects**

Applying this note may require adjustments to user roles to accommodate the new authorization checks. Ensure thorough testing in a development environment before deploying to production.

For more information, refer to the full SAP Security Note [2030997](https://me.sap.com/notes/2030997).

*Credits to [RedRays.io](https://redrays.io) for support in providing this information.*