2273147 - Switchable authorization checks for RFC in CRM-IT-BTX

**SAP Security Note 2273147 - Switchable authorization checks for RFC in CRM-IT-BTX**

### Symptom
This SAP note describes new switchable authorization checks for RFC function modules in Provider Sales and Order Management - Business Transaction.

### Other Terms
SACF, RFC, authorization, Provider, Prepaid Account

### Reason and Prerequisites
Remote calls to RFC function modules are protected by checks on the authorization object `S_RFC`. Authorizations for `S_RFC` must be limited to the required minimum to ensure system security. Many RFC function modules can be sufficiently protected using `S_RFC` authorization checks, often without additional functional authorization checks.

It was identified that `S_RFC` authorization checks might not be sufficient to ensure secure execution for RFC function modules covered by this note. Activate new switchable authorization checks and update corresponding roles if these RFC function modules are included in `S_RFC` authorizations in your system.

### Solution
New authorization checks (both switchable and non-switchable) have been implemented.

- **Switchable Checks**: Delivered inactive to ensure compatibility with existing processes. Can be activated in transaction SACF as described in the attached manual correction instruction. See [SAP Note 1922808](https://me.sap.com/notes/1922808) for additional information on the switchable authorization check framework (SACF).

#### Implementation Steps:

1. **New Authorization Scenario**
   - **Scenario**: `CRM_ISX_BTX_PROV - Provider Contract RFC authority`
   - **Used During**: Contract distribution and sending of alerts for Prepaid Accounts.
   - **Affected Business Processes and Roles**: Provider Sales and Order Management
   - **Affected RFC Function Modules**:
     - `CRM_ISX_PPACC_ALERT_HANDLER`
       - Auth. Object: `B_BUPA_GRP`, `B_BUPA_RLT`
       - Parameters: `ACTVT = 03`
     - `CRM_PROD_UPS_MAINTAIN_2_OW`
       - Auth. Object: `CRM_ORD_PR`
       - Parameters: `PR_TYPE = Process Type`, `ACTVT = 03`

2. **Activate Switchable Authorization Check**
   - **Download Attachment**: [CRM_ISX_BTX_PROV.TXT](https://me.sap.com/notes/0002273147/CRM_ISX_BTX_PROV.TXT)
   - **Transfer Scenario Definition**:
     - Start transaction `SACF_TRANSFER`.
     - Select "Upload" and choose "Scenario Definition".
     - Upload the `CRM_ISX_BTX_PROV.TXT` file.
     - Assign the scenario to the development package `CRM_ISX_BTX_API`.
   - **Create and Activate**:
     - In transaction `SACF`, create the productive authorization scenario.
     - Activate the switchable authorization checks as per [SAP Note 1922808](https://me.sap.com/notes/1922808).

#### Support Package Information
- **Software Component**: BBPCRM
- **Support Packages**:
  - [SAPKU70018](https://me.sap.com/supportpackage/SAPKU70018) for BBPCRM 700
  - [SAPKU70115](https://me.sap.com/supportpackage/SAPKU70115) for BBPCRM 701
  - [SAPKU70217](https://me.sap.com/supportpackage/SAPKU70217) for BBPCRM 702
  - [SAPKU71210](https://me.sap.com/supportpackage/SAPKU71210) for BBPCRM 712
  - [SAPKU71312](https://me.sap.com/supportpackage/SAPKU71312) for BBPCRM 713
  - [SAPK-71402INBBPCRM](https://me.sap.com/supportpackage/SAPK-71402INBBPCRM) for BBPCRM 714

### Attachments
- [CRM_ISX_BTX_PROV.TXT](https://me.sap.com/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000269292016&iv_version=0003&iv_guid=6CAE8B27F67B1ED681C07C8EA744AD2A) (561 KB, text/plain)

### References
- [SAP Note 2008727 - RFC Security](https://me.sap.com/notes/2008727)
- [SAP Note 1922808 - Switchable Authorization Check Framework](https://me.sap.com/notes/1922808)

**Credits:** Information provided by [redrays.io](https://redrays.io).