SAP Security Note 2064637: Switchable Authorization Checks for Listing and Site Master Data

**Overview**

SAP Security Note [2064637](https://me.sap.com/notes/2064637) introduces new switchable authorization checks for RFC function modules related to listing (LO-MD-RA/IS-R-BD-LST) and site master data (LO-MD-PL/IS-R-BD-SIT). This enhancement aims to bolster system security by ensuring that remote calls to RFC function modules are adequately protected through refined authorization object checks.

**Details**

- **Type:** SAP Security Note
- **Priority:** Correction with medium priority
- **Status:** Released for Customer
- **Release Date:** November 11, 2014
- **Component:** Logistics - General > Logistics Basic Data > Plant Master (LO-MD-PL)

**Symptom**

Remote calls to RFC function modules are currently protected by checks on the authorization object `S_RFC`. However, these checks may not be sufficient to guarantee secure execution for certain RFC function modules. This note addresses the insufficiency by introducing additional authorization checks.

**Reason and Prerequisites**

The existing `S_RFC` authorization checks might not fully secure the execution of specific RFC function modules. To enhance security:
- New switchable authorization checks are activated.
- Corresponding roles need to be updated if these RFC function modules are included in your system's `S_RFC` authorization.

**Solution**

1. **Implementation of Authorization Checks**
   - New authorization scenarios `LO_MD_PL_RFC` and `LO_MD_RA_RFC` are introduced.
   - These checks utilize authorization objects `W_BETR_USR` and `W_ASORT` to ensure users have the necessary permissions to display sites and manage listing conditions.

2. **Activation Steps**
   - Download and apply the provided support package or correction instructions.
   - Activate the authorization checks manually using transaction `SACF`.
   - Update roles to include the new authorization objects to maintain system compatibility and security.

**Affected Components and Function Modules**

- **RFC Function Modules:**
  - `BAPI_RETAILSITE_GETDEPARTMENTS`
  - `BAPI_RETAILSITE_GETMATGROUPS`
  - `WSOJOBMAP_DELETE_RFC`
  - `WLK1_READ_ASSORT`

- **Business Processes and Roles:**
  - These BAPIs are integral to Business Object 1069 (Retail Site) and can be accessed via external processes like SAP Retail Store: Extended Article Search in Web Dynpro.

**Implementation Instructions**

Detailed steps to implement the switchable authorization checks are provided within the note, including:

1. **Scenario Definition Creation:**
   - Use transaction `SACF` to check and upload scenario definitions if they do not exist.

2. **Productive Scenario Creation:**
   - Transfer scenario definitions to productive scenarios and set the status to `Active` or `Logging`.

3. **Security Audit Log Configuration:**
   - Ensure the Security Audit Log is activated and configure relevant audit message filters.

4. **Role Adjustments:**
   - Modify user roles to incorporate the new authorization objects using reports like `RSAU_SELECT_EVENTS` for analysis.

**Downloads and Resources**

- [Download for SNOTE](https://me.sap.com/notes/0040000012269592017)
- [PDF Version](https://me.sap.com/notes/0002064637?language=en-US&token=0F065B815F9608E93740DC694D2A7DFC)
- [Edit Note](https://me.sap.com/sap/support/notes/edit/0002064637)
- [Attachment: SACF_DATA.TXT](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900000835472014&iv_version=0001&iv_guid=10E9AF2ECCA2A740B9206C7862065449)

**References**

- [SAP Note 2008727](https://me.sap.com/notes/2008727) for additional information on RFC Security.
- [SAP Note 2078596](https://me.sap.com/notes/2078596) on further improvements for RFC security.

**Credits**

Information supported by [Redrays.io](https://redrays.io).