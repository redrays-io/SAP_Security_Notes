2066943 - New authorization check for RFC in component WEC-APP-UM

## Symptom
This SAP Note describes a new authorization check for the RFC function module `COM_WEC_CHECK_SEQ_QTN` in component `WEC-APP-UM`.

## Other Terms
RFC, authorization, Web Channel Experience Management

## Reason and Prerequisites
External calls of RFC function modules are protected by authorization checks against the object `S_RFC`. Authorizations for `S_RFC` must be reduced to a minimum for all users to ensure system security. A large number of function modules can be sufficiently protected by `S_RFC` authorization checks. Often, these RFC function modules do not perform any additional authorization checks. Refer to [SAP Note 2008727](https://me.sap.com/notes/2008727) for more information about RFC security.

It has been noted that the `S_RFC` authorization check may not be sufficient to ensure a secure execution of the function module `COM_WEC_CHECK_SEQ_QTN`. Implement the correction instructions and update the relevant roles if this function module is used in the `S_RFC` authorizations of your system.

## Solution
Implement the correction instructions and carry out the manual steps described below.

After creating the authorization object and implementing the corrections, update the Web Channel user roles for the service (technical) user. For Web Channel Experience Management, SAP delivers the example roles `SAP_ERP_WEC_TU_ALL` in ERP and `SAP_CRM_WEC_TU_ALL` in CRM.

1. **Create Authorization Object:**
   - Call transaction `SU21`.
   - Enter the following values:
     - **Object:** `COM_WEC`
     - **Text:** Web Channel User Activity Authorization Object
     - **Class:** `AAAB`
   - **Authorization Field:** `ACTVT`
   - **Permitted Activities:**
     - `01` Create or generate
     - `02` Change
     - `03` Display
     - `05` Lock
     - `06` Delete
     - `07` Activate, generate
     - `16` Execute
     - `22` Enter, Include, Assign
     - `23` Maintain
     - `32` Save
     - `37` Accept
     - `38` Perform
     - `39` Check
     - `45` Allow
     - `60` Import
     - `61` Export
     - `63` Activate
     - `64` Generate
     - `88` Perform
     - `90` Copy
     - `95` Unlock
     - `96` Reject
     - `UL` Upload
   - **Object Documentation:**
     - **Definition:** Generic Web Channel Authorization Object for checking user activities.
     - **Defined Fields:** `ACTVT` - User activity

2. **Remove "SAP_NEW authorizations" Flag**

3. **Update Message Classes:**
   - Call transaction `SE80` and select the package `COM_WEC_USER`.
   - Under "Message Classes", open the message class `COM_WEC_USER_MSG`.
   - Create and save two new messages:
     - **No.:** `007`
       - **Message Short Text:** Error occurred; contact us for support.
       - **Self-Explanatory:** Checked
     - **No.:** `008`
       - **Message Short Text:** User not authorized: RFC FM &1, Authorization object &2, Activity &3
       - **Self-Explanatory:** Checked

## Correction Instructions
Implement the correction instructions available [here](https://me.sap.com/corrins/0002066943/6555).

## Support Packages
Ensure you have the appropriate support packages installed for your components:
- [WEBCUIF 701](https://me.sap.com/supportpackage/SAPK-70114INWEBCUIF)
- [WEBCUIF 731](https://me.sap.com/supportpackage/SAPK-73115INWEBCUIF)
- [WEBCUIF 746](https://me.sap.com/supportpackage/SAPK-74609INWEBCUIF)
- [WEBCUIF 747](https://me.sap.com/supportpackage/SAPK-74707INWEBCUIF)

## Download and Print
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000012283212017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002066943?language=en-US&token=CEA1F9E08F143BA7D1D2B7D19D48B12B)

---

*Credits to [Redrays.io](https://redrays.io) for support in providing this information.*