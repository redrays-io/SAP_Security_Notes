1591057 - Unauthorized use of application functions in CRM-BF-SVY

**SAP Security Note 1591057 - Unauthorized use of application functions in CRM-BF-SVY**

**Type:** SAP Security Note  
**Version:** 2  
**Recency:** New  
**Language:** English  
**Category:** Program error  
**Priority:** Correction with high priority  
**Status:** Released for Customer  
**Released On:** 08.11.2011  
**Component:** Customer Relationship Management > Basic Functions > Survey Suite (CRM-BF-SVY)

### Description
A malicious user can execute functions in CRM-BF-SVY without authentication and authorization.

### Symptom
CRM-BF-SVY executes certain functions by referencing specific URLs. When a malicious user tricks an authenticated user's browser into making a request containing a certain URL and specific parameters, the function is executed with the rights of the authenticated user. This can be achieved through a cross-site scripting (XSS) attack or by presenting a crafted link to the victim.

### Solution
1. **Prerequisites:**  
   Refer to [Note 1520324](https://me.sap.com/notes/1520324) and [Note 1551982](https://me.sap.com/notes/1551982) for additional information and instructions. The corrections from these notes are prerequisites for implementing this note.

2. **Implement Correction Instructions:**  
   Follow the correction instructions provided in this note. This will create the report `BSP_XSRF_PARAM_CRM_BF_SVY` in your system.

3. **Activate XSRF Protection:**  
   Execute the report `BSP_XSRF_PARAM_CRM_BF_SVY`. When prompted, specify a corresponding transport request number. This report will activate the XSRF protection for the BSP applications adapted by this note.

### References
**This document refers to:**
- [1848237 - Error on calling SICF service crm_svy_server](https://me.sap.com/notes/1848237)

**This document is referenced by:**
- [1848237 - Error on calling SICF service crm_svy_server](https://me.sap.com/notes/1848237)

### Validity
Applicable to the following Software Components:
- BBPCRM 500
- BBPCRM 520
- BBPCRM 600
- BBPCRM 700
- BBPCRM 701

### Support Packages
- [BBPCRM 500: SAPKU50020](https://me.sap.com/supportpackage/SAPKU50020)
- [BBPCRM 520: SAPKU52011](https://me.sap.com/supportpackage/SAPKU52011)
- [BBPCRM 600: SAPKU60011](https://me.sap.com/supportpackage/SAPKU60011)
- [BBPCRM 700: SAPKU70011](https://me.sap.com/supportpackage/SAPKU70011)
- [BBPCRM 701: SAPKU70107](https://me.sap.com/supportpackage/SAPKU70107)

### Side Effects
**This document is causing side effects:**
- [1816204 - SVY: Dump while using SICF user for Survey BSP URL](https://me.sap.com/notes/1816204)

### Download & Print
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009445152017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001591057?language=en-US&token=3C45190D5B5B36A12D9CAEF94670E8A5)

For more details and actions, visit the [SAP Support Portal](https://me.sap.com/notes/1591057).

*Credits to [Redrays.io](https://redrays.io) for supporting the provision of this information.*