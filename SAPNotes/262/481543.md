481543 - Disabling HTTP services in WebAS 6.10

**SAP Note Number:** 481543  
**Type:** SAP Security Note  
**Version:** 1  
**Recency:** New  
**Language:** English  
**Category:** Workaround of missing functionality  
**Priority:** Correction with low priority  
**Status:** Released for Customer  
**Released On:** 08.10.2009  
**Component:** Basis Components > Business Server Pages

### Symptom
In WebAS 6.10 by default all HTTP Services are accessible.

### Other Terms
BSP Applications, WebAS

### Reason and Prerequisites
*No prerequisites specified.*

### Solution
When installing SAP Web Application Server 6.10, the installation includes a number of testing, demonstration, and sample applications accessible via corresponding services. These samples are useful for training and developing customer applications. For productive operations, only the minimal set of required services and applications should remain active and accessible over the web.

This note describes how to deactivate all services present after an initial installation of SAP Web Application Server 6.10 and activate only those that should be accessible from the Web. Follow these steps:

1. **Create a Service Entry for Your Application**
   - Use transaction **SICF** and create a node for your application under the path `default_host/sap/bc/bsp/sap`. For example:
     ```
     default_host/sap/bc/bsp/sap/myapp
     ```

2. **Create a New Virtual Host**
   - At the uppermost level of SICF, create the new virtual host.
   - Set it to number 1 and save. The new virtual host should be displayed.
   - Next, create a node in that virtual host. You can either introduce a new tree according to your needs or directly create an alias to the node in `default_host`.
     - **Example a:**
       ```
       my_virt_host
           └── customer
               └── webapp
       ```
       `webapp` should be aliased to `default_host/sap/bc/bsp/sap/myapp`
     - **Example b:**
       ```
       my_virt_host
           └── webapp
       ```

3. **Disable the `default_host` and Enable the New Virtual Host**
   - Edit the instance profile to include the following lines:
     ```
     is/HTTP/virt_host_0 = a:b;
     is/HTTP/virt_host_1 = *:*;
     ```
   - This configuration effectively disables `virt_host_0` (the `default_host`) by matching only an impossible machine/port combination (`a:b`), unless such a machine/port exists in your network.
   - `virt_host_1` now matches all machine:port pairs and is enabled. You can further restrict it by providing explicit host names and port numbers if necessary.

4. **Restart Your WAS**
   - After completing the above steps, restart your Web Application Server. This ensures that it is impossible to reach any service in the `default_host` tree. Only services in `my_virt_host` will be accessible.
   - To invoke your BSP application, use URLs like:
     - `machine:port/customer/webapp/page.htm`
     - `machine:port/webapp/page.htm`

### Actions
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000015149002017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0000481543?language=en-US&token=53B8F86389D49AA5E2EEBF7F9329A50E)
- [Share by Email](https://me.sap.com/notes/0000481543/E)
- [Open in New Window](https://me.sap.com/notes/0000481543/E)

### References
- [626073 - Unreleased Internet Communication Framework services](https://me.sap.com/notes/626073)
- [492283 - Problem activating SICF services](https://me.sap.com/notes/492283)

Credits to [Red Rays](https://redrays.io) for support in providing this information.