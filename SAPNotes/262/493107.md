493107 - SSO integration via ITS using PAS

## Overview

SAP Note **493107** outlines the integration of Single Sign-On (SSO) via the Internet Transaction Server (ITS) using the Pluggable Authentication Service (PAS). This integration facilitates seamless authentication across SAP systems, enhancing security and user experience.

## Prerequisites

To implement SSO with PAS and ITS, ensure the following prerequisites are met:

1. **SSO2 Logon Tickets**: At least one SAP system must be capable of issuing SSO2 logon tickets, and other systems must be configured to accept them. Refer to [Note 177895](https://me.sap.com/notes/177895) for more details.
2. **Secure Network Communication (SNC)**: The issuing SAP system must be configured for SNC. See [Note 66687](https://me.sap.com/notes/66687) for configuration guidelines.
3. **SNC Secure Connection**: Establish an SNC secure connection between the SAP system issuing the ticket and the AGate of the ITS. For dual host installations, ensure SNC connections between WGate and AGate as recommended in [Note 389810](https://me.sap.com/notes/389810).
4. **Browser Support**: User browsers must support session cookies, specifically the 'MYSAPSSO2' cookie, to store the SSO2 logon ticket.
5. **User Assignment**: When logging in with external user names, use the USREXTID table to create user assignments between external and SAP users.
6. **PAS Configuration**: PAS is included in ITS 4.6 DC3 and later versions. Ensure it is properly configured on the Agate. Additional packages like `ntauth.sar` are available on the [SAP Service Marketplace](http://service.sap.com/patches).

## External Authentication Types

PAS supports various external authentication methods when integrated with ITS:

- **X509**: Utilizes X.509 client certificates for issuing logon tickets. More information can be found in [Note 350776](https://me.sap.com/notes/350776).
- **NTLM**: NT Lan Manager authentication through Microsoft IIS. Refer to [Note 510916](https://me.sap.com/notes/510916) for common errors and solutions.
- **NTPassword**: Explicit NT domain authentication verified by an NT domain controller. Detailed in [Note 497532](https://me.sap.com/notes/497532).
- **LDAP**: Authentication via LDAP-enabled directory services. Configuration details are available in [Note 509237](https://me.sap.com/notes/509237).
- **DLL**: Authentication handled by external libraries loaded by PAS. Refer to [Note 535538](https://me.sap.com/notes/535538) for implementation guidance.
- **HTTP**: Authentication using HTTP header variables. Setup instructions are provided in [Note 494984](https://me.sap.com/notes/494984).

## Actions

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000015166142017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0000493107?language=en-US&token=66F3953EE6596DE6F7F975D5427E614C)
- [Share by Email](mailto:?subject=SAP%20Note%20493107%20-%20SSO%20integration%20via%20ITS%20using%20PAS&body=Check%20out%20this%20SAP%20Note%20https://me.sap.com/notes/493107)
- [Open in New Window](https://me.sap.com/notes/493107)

## Valid Software Components

- **BC-FES-ITS**
  - From: 46D C3
  - To: 46D C4+
  - From: 610
  - To: 620
- **SAP_BASIS**
  - From: 46D
  - To: 46D+
  - From: 610
  - To: 620

## References

This document refers to several other SAP Notes for detailed configurations and implementations:

- [LDAP SSL authentication with PAS on the ITS](https://me.sap.com/notes/734484)
- [Using HTTP header variables for the PAS with the ITS](https://me.sap.com/notes/654544)
- [Linking custom libraries to PAS using the ITS](https://me.sap.com/notes/535538)
- [PAS with the logon language saved by the user](https://me.sap.com/notes/528530)
- [Common errors and solutions when implementing PAS with NTLM](https://me.sap.com/notes/510916)
- And many others listed in the full SAP Note.

## Attachments

- [LOGIN.HTML](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=011000358700000665752002&iv_version=0024&iv_guid=C3D0841095515D4494479F058DF1A14E)
- [REDIRECT.HTML](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=011000358700000665752002&iv_version=0024&iv_guid=D3E3C19847AFDB4381D795C2F79672A4)
- [SAPEXTAUTH.TXT](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=011000358700000665752002&iv_version=0024&iv_guid=ABC36BFA42DF6D479C63C7A31333DB81)
- [NTAUTH.SAR](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=011000358700000665752002&iv_version=0024&iv_guid=E1ABFFD55956FD4FBD30D33962854B8E)
- [EXTAUTHERROR.HTML](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=011000358700000665752002&iv_version=0024&iv_guid=7990EDF8A97F9C4BA6D9149ABCDC6482)

## Credit

Special thanks to [Redrays.io](https://redrays.io) for supporting the provision of this information.