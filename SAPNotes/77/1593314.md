SAP Security Note 1593314: Unauthorized use of application functions in CRM-ANA-SRV-BW

---

### Symptom

A malicious user can execute functions in CRM-ANA-SRV-BW without authentication and authorization.

### Other Terms

Cross-site request forgery, XSRF, CRM-ANA-SRV-BW

### Reason and Prerequisites

CRM-ANA-SRV-BW executes certain functions by referencing specific URLs. When a malicious user tricks an authenticated user's browser into making a request containing a certain URL and specific parameters, the function is executed with the rights of the authenticated user. The malicious user may use a cross-site scripting attack to do this, or they may present a link to the victim.

### Solution

1. Refer to [Note 1520324](https://me.sap.com/notes/1520324) and [Note 1551982](https://me.sap.com/notes/1551982) for additional information and instructions. The corrections from these notes are a prerequisite for the implementation of this note.

2. Implement the correction instructions of this note. This will also create the report `BSP_XSRF_PARAM_CRM_ANA_BW` in your system.

3. Execute the report `BSP_XSRF_PARAM_CRM_ANA_BW` and specify a corresponding transport request number when prompted. The report will activate the XSRF protection for the BSP applications adapted by this note.

### Download Links

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009459132017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001593314?language=en-US&token=6D8993A06815C0778049FA9B8D184640)

### Support Package

- **BBPCRM 500:** [SAPKU50020](https://me.sap.com/supportpackage/SAPKU50020)
- **BBPCRM 520:** [SAPKU52011](https://me.sap.com/supportpackage/SAPKU52011)
- **BBPCRM 600:** [SAPKU60011](https://me.sap.com/supportpackage/SAPKU60011)
- **BBPCRM 700:** [SAPKU70011](https://me.sap.com/supportpackage/SAPKU70011)
- **BBPCRM 701:** [SAPKU70107](https://me.sap.com/supportpackage/SAPKU70107)

### Available Languages

- [Deutsch](https://me.sap.com/notes/0001593314/D)
- [日本語](https://me.sap.com/notes/0001593314/J)
- [Português (Machine Translation)](https://me.sap.com/notes/0001593314/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0001593314/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0001593314/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0001593314/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0001593314/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0001593314/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0001593314/3)

### Credits

Thanks to [Redrays.io](https://redrays.io) for their support in providing this information.