2151108 - SLDREG fixed key for encryption

---

**Symptom**

The encryption key generated by `sldreg` and stored in the key file when using the `-usekeyfile` option is not random but always the same.

**CVSS Information**

- **Base Score:** 2.1 / 10
- **Vector:**
  - **Attack Vector (AV):** Local (L)
  - **Attack Complexity (AC):** Low (L)
  - **Authentication (Au):** None (N)
  - **Confidentiality Impact (C):** Partial (P)
  - **Integrity Impact (I):** None (N)
  - **Availability Impact (A):** None (N)

**Reason and Prerequisites**

The same sequence of random numbers is generated due to a program error.

**Solution**

The technical solution is the same as in functional SAP Note [2013020](https://me.sap.com/notes/2013020). Update the Kernel as described in this SAP Note.

Additionally, repeat the step "Configuring sldreg" as described in the SAP Product documentation:

[Configuring sldreg](http://help.sap.com/saphelp_nw70/helpdata/de/42/ea5ff4b5d61bd9e10000000a11466f/content.htm)

Execute the following commands:

```bash
cd /usr/sap/<SID>/SYS
rm slddest.cfg*
sldreg -configure slddest.cfg --usekeyfile
```

**Download Links**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000018044982017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002151108?language=en-US&token=EAAEC4E07C253AC0FD0967249DE3398E)

**Affected Components**

- **KRNL32NUC:** 7.21, 7.21EXT
- **KRNL32UC:** 7.21, 7.21EXT
- **KRNL64NUC:** 7.21, 7.21EXT, 7.42, 7.22, 7.22EXT
- **KRNL64UC:** 7.21, 7.21EXT, 7.42, 7.22, 7.22EXT
- **KERNEL:** 7.21 to 7.22, 7.42

**References**

- This document refers to [SAP Note 2013020 - Background jobs terminate due to TemSe errors](https://me.sap.com/notes/2013020)

**Available Languages**

- Deutsch
- 日本語 (Machine Translation)
- Português (Machine Translation)
- Español (Machine Translation)
- Français (Machine Translation)
- Italiano (Machine Translation)
- Русский (Machine Translation)
- 中文 (Machine Translation)
- 한국어 (Machine Translation)

**Credits**

Supported by [Redrays.io](https://redrays.io)