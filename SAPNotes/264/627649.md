627649 - Credit card data is stored in the log file

## SAP Security Note 627649: Credit card data is stored in the log file

**Type:** SAP Security Note  
**Version:** 3  
**Recency:** New  
**Language:** English  
**Category:** Program error  
**Priority:** HotNews  
**Status:** Released for Customer  
**Released On:** 08.10.2009  
**Component:** Customer Relationship Management > Internet Sales > Shopping Basket and Order Entry (CRM-ISA-BAS)

### Description

**Symptom**  
Credit card information relevant for security may be written to the J2EE engine log file `isa.log` located in the `WEB-INF/log` directory.  
This data can be misused by authorized or unauthorized persons who have access to the log files, posing a significant security hazard. This issue affects both ISA for CRM and ISA for R/3.

**Other Terms**  
Credit cards, payment, CRM Backend, B2B, B2C, log level, ISA30, ISA3.0, ISA31, ISA3.1, ISA4, ISA40

**Reason and Prerequisites**  
The prerequisite for credit card data being written to the log files is that the log level for `com.sapmarkets.isa` is set to DEBUG. The DEBUG setting is intended only for testing purposes and should never be used in production systems except for problem analysis. The standard log level for productive operations should be ERROR, which only generates entries when errors occur. For more information on the different log levels and their configuration, refer to the [ISA 3.1 CRM E-Selling: Business Scenario Configuration Guide](https://me.sap.com/) available on the Service Marketplace. This document also applies to ISA 3.0 and ISA 4.0.

**Solution**  
The correction ensures that no credit card information is written to the `isa.log` files regardless of the log level setting.

- Included in Release 3.0 as of Support Package 16
- Included in Release 3.1 as of Support Package 06
- Included in Release 4.0 as of Support Package 02

Corrections are available in:
- Support Package 12 for CRM 3.0
- Support Package 13 for CRM 3.0 on the [Service Marketplace](https://me.sap.com/)
- Support Package 14 for CRM 3.0 as of calendar week 14/2004

For other support packages, request a correction as an advance correction by creating an SAPNet R/3 Frontend message referencing this note.

**Changed Files:**
- `WrapperCrmIsa.java`
- `Payment.java`
- `checkout.jsp`
- `MaintainCheckoutB2CBaseAction.java`
- `CCardStrategyR3`
- `CCardStrategyR340b`
- `CCardStrategyR3PI`

### Actions

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000015466362017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0000627649?language=en-US&token=EF405A57F53BB1254484E744F66E4959)
- [Share by Email](https://me.sap.com/notes/0000627649/share)
- [Open in New Window](https://me.sap.com/notes/0000627649/open)
- *Edit Note:* _(Not visible to all users)_ [Edit Note](https://me.sap.com/sap/support/notes/edit/0000627649)

### References

**This document refers to**  
- [646140 - Security Check of Internet Sales](https://me.sap.com/notes/646140)  
- [635082 - Credit card information in ISA B2B scenario](https://me.sap.com/notes/635082)

**Referenced by**  
- [635082 - Credit card information in ISA B2B scenario](https://me.sap.com/notes/635082)

### Valid Software Components

- **BBPCRM:** 300, 310, 400

### CVSS

**Score:** 0  
**Vector:** Not specified

### Side Effects

None reported.

---

*Credits to [Redrays.io](https://redrays.io) for support in providing this information.*