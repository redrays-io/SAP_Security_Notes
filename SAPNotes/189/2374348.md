2374348 - Information Disclosure in DBISQL affecting SAP SQL Anywhere, SAP ASE and SAP IQ

**Symptom**

**UPDATE 1st September 2017**: This note has been re-released with updated ‘Validity’ information.

Under certain conditions, DBISQL allows an attacker to access information which would otherwise be restricted.

Some well-known impacts of Information Disclosure are:
- Loss of information and system configuration confidentiality
- Information gathering for further exploits and attacks

**CVSS Information**

CVSS v3 Base Score: 3.9 / 10  
CVSS v3 Base Vector:

| Metric                      | Value         |
|-----------------------------|---------------|
| AV : Attack Vector          | Local (L)     |
| AC : Attack Complexity      | High (H)      |
| PR : Privileges Required    | High (H)      |
| UI : User Interaction       | None (N)      |
| S : Scope                   | Unchanged (U) |
| C : Impact to Confidentiality | Low (L)    |
| I : Impact to Integrity     | Low (L)       |
| A : Impact to Availability  | Low (L)       |

SAP provides this CVSS v3 base score as an estimate of the risk posed by the issue reported in this note. This estimate does not take into account your own system configuration or operational environment. It is not intended to replace any risk assessments you are advised to conduct when deciding on the applicability or priority of this SAP security note. For more information, see the FAQ section at [https://support.sap.com/securitynotes](https://support.sap.com/securitynotes).

**Other Terms**

Information Exposure, Information Leak, DBISQL, SAP SQL Anywhere, SAP ASE, SAP IQ

**Reason and Prerequisites**

If DBISQL is started interactively from the command line and crashes, the dump file created by DBISQL contains a copy of the command line which was used to launch it. User password included in the command line is visible in the dump file. DBISQL included with the following products is impacted:

- SAP SQL Anywhere 16.0, 17.0
- SAP ASE 15.7, 16.0
- SAP IQ 16.0
- SDK for SAP ASE 16.0
- SAP PowerDesigner 16.6
- SAP Event Stream Processor 5.1
- SAP Replication Server 15.7

**Solution**

Follow instructions below to apply the fix most appropriate for your production environment.

| Affected Product Version           | Fix Instructions                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SAP SQL Anywhere 17.0              | [Download and install SQL Anywhere 17.0 SP0 PL8 Built 2053](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                    |
| SAP SQL Anywhere 16.0              | [Download and install SQL Anywhere 16.0 SP53 Build 2252](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                    |
| SAP ASE 16.0                        | [Download and install SAP ASE 16.0 SP02 PL04](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                                 |
| SAP ASE 15.7                        | [Download SDK FOR SAP ASE 16.0 SP02 PL04](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017) and install the DBISQL component. While installing, please choose ‘Custom’ install option and then select ‘Interactive SQL’ component to install DBISQL. DBISQL from SDK 16.0 SP02 PL04 will work with ASE 15.7 releases.                                                                                                          |
| SAP IQ 16.0                         | [Download and install SAP IQ 16.0 SP11 PL01](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017), or [SAP IQ 16.0 SP12](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017).                                                                                                                                                                                                                                 |
| SDK for SAP ASE 16.0                | [Download and install SDK for SAP ASE 16.0 SP02 PL04](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                            |
| SAP PowerDesigner 16.6              | [Download and install SAP PowerDesigner 16.6 SP02](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                              |
| SAP Replication Server 15.7         | [Download and install SAP Replication Server 15.7 SP306](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                        |
| SAP Event Stream Processor 5.1      | [Download and install SAP Event Stream Processor 5.1 SP12 PL09](https://me.sap.com/notesdownloads.sap.com/note/0040000018410332017)                                                                                                                                                                                                                                                                                                                      |

Alternatively, you can avoid this vulnerability by avoiding specifying user password in command line when using DBISQL interactively. Instead, enter the password when prompted by DBISQL.

**NOTE:** As normal practice, all releases subsequent to the published fixed releases will inherit the fixes described in this security note.

For more details, visit [https://me.sap.com/notes/2374348](https://me.sap.com/notes/2374348)

**Credits**

*Thanks to [Redrays](https://redrays.io) for supporting the provision of this information.*