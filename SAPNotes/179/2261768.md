2261768 - Switchable authorization checks for RFC in CRM-MW-ADM

**SAP Note Number:** [2261768](https://me.sap.com/notes/2261768)

### **Title**
Switchable authorization checks for RFC in CRM-MW-ADM

### **Description**
This SAP Security Note introduces new switchable authorization checks for RFC function modules in the CRM Middleware Admin Console. The purpose is to enhance system security by ensuring that remote calls to RFC function modules are protected with the appropriate authorization objects.

### **Reason and Prerequisites**
Remote calls to RFC function modules require checks on the authorization object `S_RFC`. While many RFC function modules can be adequately protected using `S_RFC` authorizations, some may require additional functional authorization checks to ensure secure execution. This note addresses those scenarios by activating new switchable authorization checks.

**Prerequisites:**
- Ensure that your system has the necessary support packages as specified in the note.
- Refer to [SAP Note 2008727](https://me.sap.com/notes/2008727) for more information on RFC Security.

### **Solution**
1. **Implementation of Switchable Authorization Checks:**
   - New authorization checks are delivered inactive to maintain compatibility.
   - Activate these checks in transaction `SACF` following the manual correction instructions provided.

2. **Activation Steps:**
   - **Step 1:** Create the authorization scenario definition in older support packages.
     - Use transaction `SACF` to check for the scenario `CRM_MW_ADM_CONSOLE`.
     - If not present, apply [Note 2261768](https://me.sap.com/notes/2261768) via SNOTE and run the Report `Note_2261768` in transaction `SE38`.
   - **Step 2:** Create the productive authorization scenario from the scenario definition.
     - In `SACF`, select the scenario and transfer it to a productive scenario.
     - Choose the initial scenario status (`Active` or `Logging`).
   - **Step 3:** Activate logging of relevant audit messages in the Security Audit Log.
     - Ensure Security Audit Log is activated in transaction `SM19`.
     - Activate message IDs `DUO`, `DUP`, and `DUQ`.
   - **Step 4:** Adjust roles to provide necessary authorizations based on the new scenario.
     - Use report `RSAU_SELECT_EVENTS` to identify users needing authorization adjustments.

### **Actions**
- **Download for SNOTE:** [Download](https://me.sap.com/notes/0002261768/download)
- **PDF Version:** [PDF](https://me.sap.com/notes/0002261768/pdf)
- **Show Changes:** [Show Changes](https://me.sap.com/notes/0002261768/E/diff)
- **Share by Email:** Share via your email client.
- **Open in New Window:** Open this note in a new window for better viewing.

### **Affected Software Components**
- **BBPCRM 700 to 714**
  - Ensure compatibility with your respective CRM-MW-ADM components.

### **Support Package Information**
- Various support packages are available for different versions of BBPCRM. Refer to the [Support Package](https://me.sap.com/supportpackage/SAPKU70018) page for detailed information.

### **References**
- **Referenced By:** [SAP Note 2529671](https://me.sap.com/notes/2529671) - "Should Security Notes 2261768 and 2264948 be implemented on Solman Systems?"
- **Causing Side Effects:**
  - [SAP Note 2415283](https://me.sap.com/notes/2415283) - "The employee user id cannot be changed in SMOEAC"
  - [SAP Note 2550704](https://me.sap.com/notes/2550704) - "Not possible to delete Site"

For detailed implementation steps and more information, refer to the full [SAP Note 2261768](https://me.sap.com/notes/2261768).

*Credits to [Redrays.io](https://redrays.io) for support to provided information.*