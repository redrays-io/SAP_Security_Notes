SAP Security Note 2241871: Missing authorization check in WEC-APP

## Description

An authenticated user can use functions of WEC-APP-* to which access should be restricted. This may result in an escalation of privileges.

## Affected Components

- **Web Channel Experience Management > Web Channel Applications > Web Channel Service (WEC-APP-SRV)**

## Solution

Implement the support package or the correction instructions. The following function modules are enhanced with additional authorization checks:

- `CRM_WEC_ESERV_IBASE_COMB_SRCH`
- `CRM_WEC_ESERV_IBASE_BP_READ`
- `CRM_WEC_ESERV_IBASE_COMP_READ`
- `CRM_WEC_ESERV_IBASE_GET_DETAIL`
- `CRM_WEC_GET_USER_PERS_DATA`
- `CRM_WEC_SAVE_USER_PERS_DATA`
- `CRM_WEC_ADDRESS_CHECK`

For Web Channel Experience Management, SAP provides the example roles `SAP_ERP_WEC_WU_ALL` in ERP and `SAP_CRM_WEC_WU_ALL` in CRM. These roles contain the necessary authorization values. If you generate profiles on roles that do not inherit from the SAP example roles and encounter issues in WCEM after installing the note, please enhance your roles using transaction `PFCG`. For authorization object `WEC_AUTH`, maintain the field `WEC_OBJ` with value `IBASE` and the field `ACTVT` with value `03` for `display`. Similarly, for authorization object `COM_WEC`, maintain the field `ACTVT` with value `39` for `check`.

## Prerequisites

- [SAP Note 2066943 - New authorization check for RFC in component WEC-APP-UM](https://me.sap.com/notes/2066943)

## Download and Print

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000013252242017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0002241871?language=en-US&token=2601E8367D11B9815B3F956ACC9A7FEC)

## Support Packages

| Software Component Version | Support Package       | URL                                                    |
|----------------------------|-----------------------|--------------------------------------------------------|
| BBPCRM 701                 | SAPKU70115            | [SAPKU70115](https://me.sap.com/supportpackage/SAPKU70115) |
| BBPCRM 702                 | SAPKU70217            | [SAPKU70217](https://me.sap.com/supportpackage/SAPKU70217) |
| BBPCRM 712                 | SAPKU71210            | [SAPKU71210](https://me.sap.com/supportpackage/SAPKU71210) |
| BBPCRM 713                 | SAPKU71312            | [SAPKU71312](https://me.sap.com/supportpackage/SAPKU71312) |
| BBPCRM 714                 | SAPK-71402INBBPCRM    | [SAPK-71402INBBPCRM](https://me.sap.com/supportpackage/SAPK-71402INBBPCRM) |

## References

- [2066943 - New authorization check for RFC in component WEC-APP-UM](https://me.sap.com/notes/2066943)
- [2008727 - Securing Remote Function Calls (RFC)](https://me.sap.com/notes/2008727)

## Credits

Supported by [redrays.io](https://redrays.io).