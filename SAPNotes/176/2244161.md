2244161 - Clickjacking Protection in Web Channel Experience Management (WCEM)

## Symptom

Application in WebChannelExperienceManagement (WCEM) is not protected against Clickjacking attacks.

## Other Terms

UI redressing attack, Clickjacking, Framing Protection, Framing, IFrame, UI Redressing, Clickjacking Whitelist, X-FRAME-OPTIONS, Frame Busting, WCEM, Web Channel, WEC, WCEM

## Reason and Prerequisites

Clickjacking is a UI-redressing attack where an attacker tricks a user into clicking on something different than what the user perceives. This attack leverages standard HTML functionalities and does not exploit weaknesses in the application's code.

Further details can be found at [OWASP Clickjacking](https://www.owasp.org/index.php/Clickjacking).

## Solution

This SAP Note provides the solution for WebChannelExperienceManagement (WCEM).

Since WCEM is not intended to be used within frames, the 'Frame Busting' approach is selected. This solution and its activation differ from the Clickjacking Framing solution described in [SAP Note 2319727](https://me.sap.com/notes/2319727).

To ensure the WCEM application continues to function correctly after applying this note, Clickjacking protection must be explicitly activated.

### Steps to Activate Clickjacking Protection:

1. **Download the Attachment:** Refer to the attachment named "How to activate the click jacking countermeasure in WCEM.pdf" available [here](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900002085482015&iv_version=0004&iv_guid=6CAE8B3E8D031ED68F943D337223C0C0).

2. **Follow the Instructions:** The PDF provides a detailed description and example on how to activate Clickjacking protection in your WCEM application.

3. **Alternative Recommendation:** If you prefer not to implement a specific solution for your site, SAP recommends evaluating [SAP Note 2042819](https://me.sap.com/notes/2042819) which describes how to modify HTTP headers, and [SAP Note 1781171](https://me.sap.com/notes/1781171) under the assumption that WCEM is not released to be used in frames.

## References

- [SAP Note 2319727 - Clickjacking protection framework in SAP Netweaver AS ABAP and AS Java](https://me.sap.com/notes/2319727)
- [SAP Note 2042819 - ICM - HTTP Response Header Rewriting](https://me.sap.com/notes/2042819)
- [SAP Note 1781171 - ClickJacking vulnerability in WebDynpro Java](https://me.sap.com/notes/1781171)

## Attachments

- [How to activate the click jacking countermeasure in WCEM.pdf](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012003146900002085482015&iv_version=0004&iv_guid=6CAE8B3E8D031ED68F943D337223C0C0) (539 KB)

*Credits to [redrays.io](https://redrays.io) for support in providing this information.*