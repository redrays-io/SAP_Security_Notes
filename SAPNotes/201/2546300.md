SAP Note 2546300: Switchable Authorization Checks for RFC in FI-CA for Data Protection

**Overview**
---
SAP Note **2546300** addresses a security concern where the existing S_RFC authorization checks are insufficient for ensuring the secure execution of certain RFC function modules in FI-CA (Financial Contract Accounts Receivable and Payable) for data protection. This note introduces new switchable authorization checks to enhance security.

**Symptom**
---
The standard S_RFC authorization checks may not adequately protect specific RFC function modules, potentially allowing unauthorized execution. This vulnerability affects the secure handling of data within the FI-CA module.

**Reason**
---
While many RFC function modules are protected using S_RFC authorization checks, some do not perform additional functional authorization checks, leaving gaps in security. This note identifies the insufficiency of S_RFC checks for certain obsolete RFC function modules.

**Solution**
---
Implement the new switchable authorization checks as detailed in SAP Note **2546300**. These checks are delivered inactive to maintain compatibility and can be activated manually using transaction **SACF**.

**Implementation Steps**
---
1. **Create Authorization Scenario Definition:**
   - Start transaction `SACF` in the development system.
   - Check if the scenario definition `FKK_DPP_TEST` exists.
   - If not, download the attached file [FKK_DPP_TEST.txt](https://me.sap.com/notes/0002546300/FKK_DPP_TEST.txt) from the SAP Support Portal.
   - Use transaction `SACF_TRANSFER` to upload the scenario definition.
   - Assign the scenario definition `FKK_DPP_TEST` to the development package `FKK_PRIVACY`.

2. **Activate Switchable Authorization Checks:**
   - Use transaction `SACF_COMPARE` after system updates to activate the necessary authorization checks.
   - Refer to SAP Note **1922808** for detailed instructions on activating the switchable authorization check framework.

**Affected Components**
---
- **FI-CA Versions:** 617, 618, 800, 801
- **S4CORE Version:** 102
- **RFC Function Modules Affected:**
  - `FKKDPR_TEST_DEL_BP_SORT`
  - `FKKDPR_TEST_EXECUTE_6750`
  - `FKKDPR_TEST_READ_BP`
  - `FKKDPR_TEST_READ_BP_MAPPING`
  - `FKKDPR_TEST_UPD_BP`

**Download and Resources**
---
- **SAP Note 2546300:**
  - [Download for SNOTE](https://me.sap.com/note/2546300)
  - [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0002546300?language=en-US&token=015EF3D461694154C7378CF0E61F5EEB)
  
- **Related Notes:**
  - [SAP Note 2216306](https://me.sap.com/notes/2216306) - Recommended settings for profile parameter `auth/rfc_authority_check`.
  - [SAP Note 2008727](https://me.sap.com/notes/2008727) - Securing Remote Function Calls (RFC).

**Prerequisites**
---
Ensure that the following SAP Notes are implemented for the respective components:

- **FI-CA:**
  - 617, 618, 800, 801
  - Related Notes: [2540146](https://me.sap.com/notes/2540146), [2546300](https://me.sap.com/notes/2546300)
  
- **S4CORE:**
  - 102
  - Related Notes: [2540146](https://me.sap.com/notes/2540146), [2546300](https://me.sap.com/notes/2546300)
  
- **SAP_BASIS:**
  - Versions 740, 750, 751
  - Related Note: [2449051](https://me.sap.com/notes/2449051)

**Support and Further Information**
---
For more detailed instructions and support, refer to the [SAP Support Portal](https://me.sap.com/notes/2546300).

**Credits**
---
Credits to [redrays.io](https://redrays.io) for support in providing this information.