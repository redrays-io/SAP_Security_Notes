1961951 - Directory traversal in /CCEE/SIFI_CASH_SALES_REPORT

**SAP Security Note 1961951**

**Description**

**Symptom**
/CCEE/SIFI_CASH_SALES_REPORT contains a vulnerability through which an attacker can potentially write arbitrary files to the remote server, possibly corrupting data or altering system behavior.

**Reason and Prerequisites**
/CCEE/SIFI_CASH_SALES_REPORT fails to correctly validate the path to which a user-submitted file is written. As a result, an attacker can potentially overwrite data in the remote system.

**Solution**
As a general rule, SAP recommends installing solutions by applying a **Support Package**. If an earlier installation is necessary, use the **Note Assistant** and follow the instructions below:

1. **Apply manual corrections** as provided in the attachment.
2. **Apply code correction instructions** from the note using transaction `SNOTE`.
3. For additional information and instructions, refer to [Note 1497003](https://me.sap.com/notes/1497003). The corrections from Note 1497003 are a prerequisite for implementing this note.

**Recommendations for Setting Up Logical File Names:**
To avoid maintaining a high number of logical file names, some programs share the same logical file name, creating dependencies among them. To securely separate data created by different users and programs:
- Create a directory structure that reflects the user name and/or program name.
- Use this information when setting up the physical path and file names for logical file paths and file names.

More information about the Note Assistant can be found on the [SAP Service Marketplace](https://me.sap.com/note-assistant).

**Download Links**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000011579762017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0001961951?language=en-US&token=5D747FABF7E7CCB310287248D68DEC53)

**Attachments**
- [Guide - Logical File Path, Name (SIFI).docx](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000025592014&iv_version=0001&iv_guid=F715AB0933C6CC48B274392E3B99F625) (51 KB)

**Affected Software Components**
- **C-CEE** versions 110_600 to 110_604

**Support Packages**
- [SAPK-11038INCCEE](https://me.sap.com/supportpackage/SAPK-11038INCCEE)
- [SAPK-60224INCCEE](https://me.sap.com/supportpackage/SAPK-60224INCCEE)
- [SAPK-60324INCCEE](https://me.sap.com/supportpackage/SAPK-60324INCCEE)
- [SAPK-60422INCCEE](https://me.sap.com/supportpackage/SAPK-60422INCCEE)

**Correction Instructions**
- Apply the correction instructions available [here](https://me.sap.com/corrins/0001961951/369).

**Prerequisites**
- Ensure [Note 1927941](https://me.sap.com/notes/1927941) titled "SI: Cash Sales report" is applied.

**Credits**
Thanks to [RedRays](https://redrays.io) for supporting the provision of this information.