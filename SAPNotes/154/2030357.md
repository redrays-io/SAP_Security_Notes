SAP Security Note 2030357 - Switchable authorization checks for RFC in Material Version

## Overview

- **SAP Note/KBA**: 2030357
- **Type**: SAP Security Note
- **Version**: 1
- **Recency**: New
- **Language**: English
- **Category**: Program error
- **Priority**: Correction with medium priority
- **Status**: Released for Customer
- **Released On**: 10.11.2014
- **Component**: IS-A-LMN (Industry-Specific Components > Automotive > Long Material Number)

## Description

### Symptom
This SAP note introduces new switchable authorization checks for RFC function modules in Material Version.

### Reason and Prerequisites
Remote calls to RFC function modules are currently protected by the authorization object S_RFC. However, S_RFC alone may not sufficiently secure certain RFC function modules. This note addresses these gaps by activating new switchable authorization checks. It is essential to update corresponding roles if these RFC function modules are included in your S_RFC authorizations to ensure system security.

## Solution

New switchable authorization checks have been implemented and are delivered in an inactive state to maintain compatibility with existing processes. These checks can be activated using transaction **SACF** as outlined in the manual correction instructions.

### Implementation Steps

1. **Create the Authorization Object MGV_MV**
   - **Transaction**: SU21
   - **Object**: MGV_MV
   - **Text**: Process Material Version via RFC
   - **Class**: ISA
   - **Package**: MGVERS
   - **Authorization Fields**:
     - ACTVT: 01 (Create or generate), 02 (Change), 03 (Display), 06 (Delete), A8 (Process mass data)

2. **Regenerate SAP_ALL**
   - **Transaction**: SU21

3. **Activate the Authorization Scenario in SACF**
   - **Transaction**: SACF
   - Check if scenario definition **IS_A_LMN_MGVERS** exists.
   - If not, upload the provided `IS_A_LMN_MGVERS.TXT` file via transaction **SACF_TRANSFER**.
   - Assign the scenario definition to the development package **MGVERS**.
   - Create a productive authorization scenario from the scenario definition and set the status to **Active** or **Logging**.

4. **Activate Logging in the Security Audit Log**
   - **Transaction**: SM19
   - Ensure Security Audit Log is activated.
   - Create and activate a new filter for relevant audit messages.

5. **Adjust Roles for Necessary Authorizations**
   - Use report **RSAU_SELECT_EVENTS** to identify users needing updated authorizations.
   - Analyze authorization checks using transaction **STAUTHTRACE** or **ST01**.

## Support Package

Applicable to the **ECC-DIMP** component versions:
- 600
- 602
- 603
- 604
- 605
- 606
- 616
- 617

Install the appropriate support package from [SAP Support Package SAPK-60026INECCDIMP](https://me.sap.com/supportpackage/SAPK-60026INECCDIMP).

## Correction Instructions

Apply the following correction instruction for **ECC-DIMP**:
- [Correction Instruction 1](https://me.sap.com/corrins/0002030357/591)

## References

- [SAP Note 2078596 - Further improvements for RFC security](https://me.sap.com/notes/2078596)
- [SAP Note 2034527 - Authorization check in Materialversion](https://me.sap.com/notes/2034527)
- [SAP Note 1995667 - SACF: Navigation error](https://me.sap.com/notes/1995667)

## Side Effects

This update may cause the following side effect:
- [SAP Note 2204098 - New authorization checks prohibit maintenance of material master](https://me.sap.com/notes/2204098)

For detailed information, refer to the full SAP note: [2030357](https://me.sap.com/notes/0002030357)

*Credits to [RedRays](https://redrays.io) for support in providing this information.*