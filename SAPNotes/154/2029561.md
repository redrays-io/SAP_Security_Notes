SAP Security Note 2029561 - Missing Authorization Check in IS-OIL

```markdown
**SAP Security Note 2029561 - Missing Authorization Check in IS-OIL**

This SAP note addresses the implementation of new switchable authorization checks for RFC function modules in the IS-OIL component. The goal is to enhance system security by ensuring that remote function calls are adequately authorized.

### **Symptom**
Remote calls to RFC function modules in IS-OIL were found to lack sufficient authorization checks, potentially allowing unauthorized access and actions within the system.

### **Reason and Prerequisites**
The existing authorization object `S_RFC` may not provide adequate security for certain RFC function modules in IS-OIL. To mitigate this, new authorization checks are introduced that must be activated and configured appropriately.

### **Solution**
1. **Implement New Authorization Checks:**
   - Activate new authorization checks in transaction `SACF`.
   - Update roles to include the new authorization objects:
     - `O_DS_TXN` for transaction control.
     - `O_OIJ_SPTP` for modification controls related to rundown and rack forecasts.

2. **Manual Activities:**
   - **Create Authorization Object `O_DS_TXN`:**
     - Navigate to transaction `SU21`.
     - If `O_DS_TXN` does not exist, create it with the specified authorization fields (`TCD`, `ACTVT`).
   - **Activate Authorization Scenarios:**
     - Use transaction `SACF_TRANSFER` to upload scenario definitions from the attached `.TXT` files.
     - Assign scenarios to the appropriate development packages.
     - Activate scenarios in productive mode (`Active` or `Logging`).

3. **Adjust Roles:**
   - Analyze audit logs using report `RSAU_SELECT_EVENTS`.
   - Update user roles to include necessary authorizations based on the new scenarios.

4. **Activate Security Audit Log:**
   - Ensure that security audit logging is enabled via transaction `SM19`.
   - Configure filters to capture relevant authorization events.

### **Attachments**
- [OIL_OIJ_SPTP.TXT](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000586022014&iv_version=0002&iv_guid=C36AB09BA189934EBAAAFE901891517C)
- [OIL_PHYINV.TXT](https://me.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000586022014&iv_version=0002&iv_guid=89441AE33B7CE043B19F8E603DD1C833)

### **References**
- [SAP Note 2078596 - Further improvements for RFC security](https://me.sap.com/notes/2078596)

### **Validity and Support Packages**
This note is valid for the IS-OIL component versions 600 to 617. It includes various support packages which can be found [here](https://me.sap.com/supportpackage/SAPK-60027INISOIL).

### **Prerequisites**
Ensure that the following notes are applied before implementing this security note:
- [SAP Note 1439208](https://me.sap.com/notes/1439208) - Timezone issue in OIJU_RD_GET_START_PHYINV and O4TB_PHYS
- [SAP Note 1988903](https://me.sap.com/notes/1988903) - Check whether a function module was called via external RFC
- [SAP Note 1995667](https://me.sap.com/notes/1995667) - SACF: Navigation error

### **Side Effects**
Implementing this note may impact existing functionalities. Refer to the following notes for related side effects:
- [SAP Note 2340640](https://me.sap.com/notes/0002340640) - Follow on corrections to note 2029561
- [SAP Note 2339447](https://me.sap.com/notes/0002339447) - Authorization Check O_DS_TXN made switchable for transaction O4TB_PHYS

For detailed implementation steps, refer to the attached correction instructions and follow the manual activities outlined above.

---

*Credit to [RedRays](https://redrays.io) for support in providing this information.*

```