1637451 - Encryption of credit card data in DSD

**Description**

An attacker can discover information relating to credit card data that is used in the Direct Store Delivery (DSD) process. This information could be used to allow the attacker to specialize their attacks against credit cards.

**Other Terms**

- Information disclosure
- DSD
- Credit card numbers
- Encryption

**Reason and Prerequisites**

Information such as credit card numbers can be discovered using DSD. This information may be used by an attacker to target credit cards.

**Solution**

Implement the relevant Support Package that contains this SAP Note. Manual corrections are not required.

**Support Packages**

- **EA-APPL 600**
  - *Support Package:* SAPKGPAD21
  - [Download](https://me.sap.com/supportpackage/SAPKGPAD21)
  
- **EA-APPL 602**
  - *Support Package:* SAPK-60211INEAAPPL
  - [Download](https://me.sap.com/supportpackage/SAPK-60211INEAAPPL)
  
- **EA-APPL 603**
  - *Support Package:* SAPK-60310INEAAPPL
  - [Download](https://me.sap.com/supportpackage/SAPK-60310INEAAPPL)
  
- **EA-APPL 604**
  - *Support Package:* SAPK-60411INEAAPPL
  - [Download](https://me.sap.com/supportpackage/SAPK-60411INEAAPPL)
  
- **EA-APPL 605**
  - *Support Package:* SAPK-60507INEAAPPL
  - [Download](https://me.sap.com/supportpackage/SAPK-60507INEAAPPL)
  
- **EA-APPL 606**
  - *Support Package:* SAPK-60602INEAAPPL
  - [Download](https://me.sap.com/supportpackage/SAPK-60602INEAAPPL)

**Actions**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009722112017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001637451?language=en-US&token=92A312E87F40B6086D2DE539362C265B)
- [Edit Note](https://me.sap.com/support/notes/edit/0001637451)
- [Share by Email](mailto:?subject=Check%20out%20SAP%20Note%201637451&body=Here%20is%20an%20important%20SAP%20Note%20you%20might%20find%20useful:%20https://me.sap.com/notes/1637451)

**Manual Correction Instructions**

1. Use the report `RSWBO004` to set the namespace `/DSD/` and the software component `EA-APPL` to changeable.
2. Use transaction `SE11` to add the field `CARD_GUID` with the data element `CARD_GUID` to the following database tables:
   - `/DSD/HH_RAEC`
   - `/DSD/ME_PAYM_HD`
   - `/DSD/ME_REVN_HD`
   - `/DSD/ME_CUST_HD`
3. Save and activate the tables.
4. Use transaction `SE11` to create the table type `/DSD/ME_PAYM_HD_TT` with the short text "DSD CN: Payments Received from Customer or Cash Collection" and the line type `/DSD/ME_PAYM_HD` in the package `/DSD/HH`.
5. Save and activate the table type.
6. Reset the system change option to its original status using the report `RSWBO004`.
7. Use `SNOTE` to implement the source code corrections.

**Credits**

Thanks to [RedRays](https://redrays.io) for supporting the provision of this information.