1478978 - Potential disclosure of DB data in CL_BBP_PERSIST_EVENT_CONT

**Description**
A malicious user can exploit `CL_BBP_PERSIST_EVENT_CONT` and use specially crafted inputs to execute arbitrary database commands to retrieve, modify, or remove data persisted by the system. The dynamic 'where'-clause can be manipulated by the attacker to insert malicious code.

**Affected Releases**
- SRM_SERVER 7.01
- SRM_SERVER 7.0
- SRM_SERVER 5.5
- SRM_SERVER 5.0

**Reason and Prerequisites**
The problem is caused by an SQL injection vulnerability. The code composes an SQL statement including strings that can be altered by a malicious user. The manipulated SQL statement can then be used to retrieve additional information from the database or to potentially modify it.

**Solution**
The correction will be delivered in the corresponding Support Packages of the SRM_SERVER. For advanced correction, please implement the attached corrections in coding.

**Support Packages**
- **SRM_SERVER 550**
  - [SAPKIBKT17](https://me.sap.com/supportpackage/SAPKIBKT17)
  - [SAPKIBKT18](https://me.sap.com/supportpackage/SAPKIBKT18)
- **SRM_SERVER 700**
  - [SAPKIBKV09](https://me.sap.com/supportpackage/SAPKIBKV09)
- **SRM_SERVER 701**
  - [SAPK-70102INSRMSRV](https://me.sap.com/supportpackage/SAPK-70102INSRMSRV)

**Download Links**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008750182017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001478978?language=en-US&token=8FC6B3E22D9162F8D19F7D23F157BCA1)

**References**
- This document refers to [888889 - Automatic checks for security notes using RSECNOTE (outdated)](https://me.sap.com/notes/888889)
- This document is referenced by [888889 - Automatic checks for security notes using RSECNOTE (outdated)](https://me.sap.com/notes/888889)

**Valid Software Components**
- **SRM_SERVER 550**
- **SRM_SERVER 700**
- **SRM_SERVER 701**

**Prerequisites**
- [1074117 - Deadline alerts triggered when documents change](https://me.sap.com/notes/1074117)
- [1451374 - Exceptions raised when releasing the contract](https://me.sap.com/notes/1451374)
- [1478978 - Potential disclosure of DB data in CL_BBP_PERSIST_EVENT_CONT](https://me.sap.com/notes/1478978)

**CVSS**
- **CVSS Score:** 0
- **CVSS Vector:** N/A

For more detailed information, visit the [SAP Security Note 1478978](https://me.sap.com/notes/1478978).

*Credits to [redrays.io](https://redrays.io) for support in providing this information.*