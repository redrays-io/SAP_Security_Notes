1626650 - Cross site scripting adaption of EC 30 pivot query HTML view

---

**SAP Security Note 1626650 - Cross Site Scripting Adaption of EC 30 Pivot Query HTML View**

**Description:**
SAP Environmental Compliance 3.0 (EC 3.0) allows pivot queries to be displayed as HTML pages. However, the application does not adequately check the HTML content for potential cross site scripting (XSS) vulnerabilities. This omission could allow attackers to exploit the HTML pages through XSS attacks.

**Symptom:**
When generating HTML pages for Environmental Compliance Reporting, the EC application fails to sanitize the content, leaving it susceptible to XSS attacks. Malicious scripts injected into these pages could execute in the user's browser, potentially compromising data integrity and security.

**Reason and Prerequisites:**
The feature to display reports as HTML pages was introduced to facilitate sharing via email. Without proper validation of the HTML content, this feature inadvertently introduced an XSS vulnerability.

**Solution:**
This security gap has been addressed in EC 3.0 SP11 Patch 1 and later releases. The updated EC application now properly checks and sanitizes the data used for generating HTML pages, effectively mitigating the risk of cross site scripting attacks.

**References:**
- [SAP Environmental Compliance 3.0 SP11 Patch 1 Note](https://me.sap.com/notes/1667786)
- [JAVA Output Encoding](https://me.sap.com/notes/1590008)
- [SAP Environmental Compliance 3.0 Central Note](https://me.sap.com/notes/1139005)

For more details and to download the PDF version, visit the [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001626650?language=en-US&token=DA284571DB3810A91E094A6750C48652) or download via [SNOTE](https://notesdownloads.sap.com/note/0040000017301702017).

*Credits to [RedRays](https://redrays.io) for supporting the information provided.*