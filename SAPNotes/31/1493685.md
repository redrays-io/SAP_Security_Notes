SAP Security Note 1493685 - XML Generation Vulnerability in OLTP Data Generation

---

**SAP Security Note 1493685 - Security: XML generation encoded for OLTP data generation**

**Release Date:** December 14, 2010  
**Version:** 3  
**Priority:** Correction with High Priority  
**Status:** Released for Customer  
**Component:** Customer Relationship Management > CRM Analytics (CRM-ANA)  
**Category:** Program Error  
**Language:** English

### Description

This security note addresses a vulnerability in the XML generation process within the OLTP (Online Transaction Processing) data provider component. The issue allows external parties to exploit the XML generation code, potentially leading to malicious code injection.

**Symptom:**
- When a user runs the OLTP application and loads a report, a request is sent to the backend data provider component.
- The data provider retrieves data from BW, renders it into an XML structure, and sends it back to the application front.
- The existing XML generation code is susceptible to exploitation if the data is not properly sanitized.

**Solution:**
- **Apply SAP Note 1493685.**
  - This update ensures that the data returned from BW is properly escaped before being converted into XML format and sent in the HTTP response header.
  - Post-application, there should be no visible differences in the reports rendered by the OLTP component.
  - The data content remains unchanged, but malicious code injection is prevented by escaping the XML data.

### Affected Software Versions

- **BBPCRM:** 520, 600, 700, 701

### Support Packages

- **BBPCRM 520:** [SAPKU52011](https://me.sap.com/supportpackage/SAPKU52011)
- **BBPCRM 600:** [SAPKU60009](https://me.sap.com/supportpackage/SAPKU60009)
- **BBPCRM 700:** [SAPKU70009](https://me.sap.com/supportpackage/SAPKU70009)
- **BBPCRM 701:** [SAPKU70102](https://me.sap.com/supportpackage/SAPKU70102)

### Download Options

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008840062017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0001493685?language=en-US&token=4549B6535E23F7CE2A5A534DC683DD27)

### References

- **Related Note:** [1468577 - SAP CRM 2007 - SP-Stack 08](https://me.sap.com/notes/1468577)

### Available Translations

- [Deutsch](https://me.sap.com/notes/0001493685/D)
- [日本語](https://me.sap.com/notes/0001493685/J)
- [Português (Machine Translation)](https://me.sap.com/notes/0001493685/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0001493685/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0001493685/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0001493685/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0001493685/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0001493685/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0001493685/3)

### CVSS

- **CVSS Score:** 0  
- **CVSS Vector:** Not Available

### Credits

Thanks to [Redrays.io](https://redrays.io) for supporting the provision of this information.