1644876 - Unauthorized modification of displayed content agency coll.

### Description

**Symptom**

The Italian Agency Collection functionality in FS-CD can be abused by an attacker, allowing them to modify displayed application content without authorization, and to potentially obtain authentication information from other legitimate users.

**Important:** This note is only relevant for customers who use FS-CD (software component INSURANCE) and the Italian agency collection functionality (BSP application ITAGCY, activated using transaction ITAGCYCUST -> "Basic Settings -> Basic settings for agency collections"). Other customers are not affected and do not need to implement this note.

**Other Terms**

Reflected cross-site scripting, XSS, agency collection, Italy

**Reason and Prerequisites**

The pages within the Italian Agency Collection functionality do not sufficiently encode output parameters, resulting in a reflected cross-site scripting issue. A reflected cross-site scripting attack can be used to non-permanently deface or modify displayed content from a website or to steal another user's authentication information, such as data relating to their current session. An attacker who gains access to this data may use it to impersonate the user and access all information with the same rights as the target user. If an administrator is impersonated, the security of the application may be fully compromised.

**Solution**

Implement this security note or the related support package.

### Affected Software Components

| Software Component | From | To |
|---------------------|------|----|
| INSURANCE           | 472  | 472|
| INSURANCE           | 600  | 600|
| INSURANCE           | 602  | 602|
| INSURANCE           | 603  | 603|
| INSURANCE           | 604  | 604|
| INSURANCE           | 605  | 605|
| INSURANCE           | 606  | 606|
| INSURANCE           | 616  | 616|

### Support Packages

| Software Component Version | Support Package                        | URL                                                                                  |
|----------------------------|----------------------------------------|--------------------------------------------------------------------------------------|
| INSURANCE 472              | SAPKIPIN22                             | [SAPKIPIN22](https://me.sap.com/supportpackage/SAPKIPIN22)                           |
| INSURANCE 600              | SAPK-60021ININSURANC                   | [SAPK-60021ININSURANC](https://me.sap.com/supportpackage/SAPK-60021ININSURANC)       |
| INSURANCE 602              | SAPK-60211ININSURANC                   | [SAPK-60211ININSURANC](https://me.sap.com/supportpackage/SAPK-60211ININSURANC)       |
| INSURANCE 603              | SAPK-60310ININSURANC                   | [SAPK-60310ININSURANC](https://me.sap.com/supportpackage/SAPK-60310ININSURANC)       |
| INSURANCE 604              | SAPK-60411ININSURANC                   | [SAPK-60411ININSURANC](https://me.sap.com/supportpackage/SAPK-60411ININSURANC)       |
| INSURANCE 605              | SAPK-60507ININSURANC                   | [SAPK-60507ININSURANC](https://me.sap.com/supportpackage/SAPK-60507ININSURANC)       |
| INSURANCE 606              | SAPK-60602ININSURANC                   | [SAPK-60602ININSURANC](https://me.sap.com/supportpackage/SAPK-60602ININSURANC)       |

### Correction Instructions

[Implement Correction Instructions](https://me.sap.com/corrins/0001644876/21)

### Translations Available

- [Deutsch](https://me.sap.com/notes/0001644876/D)
- [日本語](https://me.sap.com/notes/0001644876/J)
- [Português (Machine Translation)](https://me.sap.com/notes/0001644876/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0001644876/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0001644876/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0001644876/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0001644876/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0001644876/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0001644876/3)

### Download

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009767292017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001644876?language=en-US&token=8B41D341812BE39B46E3B7A9B32481EF)

**Credits:** Thanks to [Redrays.io](https://redrays.io) for support in providing this information.