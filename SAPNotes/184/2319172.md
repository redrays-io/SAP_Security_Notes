2319172 - Whitelist based Clickjacking Framing Protection in SAP GUI for HTML

**Description**

### Symptom
SAP GUI for HTML does not protect its applications against Clickjacking attacks.

### Other Terms
UI redressing attack, Clickjacking, Framing Protection, Framing, IFrame, UI Redressing, Clickjacking Whitelist, X-FRAME-OPTIONS, WebGUI

### Reason and Prerequisites
Clickjacking is an UI-redressing attack where an attacker tricks a user into clicking on something different than the user is aware of. This attack leverages standard possibilities in HTML and does not exploit weaknesses in the application code.

Further details can be found at [OWASP Clickjacking](https://www.owasp.org/index.php/Clickjacking).

### Solution
Standard protection measures against Clickjacking (X-FRAME-OPTIONS header) are not suitable for common NetWeaver integration scenarios. Therefore, SAP is providing a whitelist-based framework for NetWeaver technologies.

This framework and its implementation are described in [SAP Note 2319727](https://me.sap.com/notes/2319727).

This SAP Note provides the solution for SAP GUI for HTML.

The solution is implemented in the following SAP_BASIS Support Packages:

| Software Component | Release | Support Package     |
|--------------------|---------|---------------------|
| SAP_BASIS          | 700     | SAPKB70033          |
| SAP_BASIS          | 701     | SAPKB70118          |
| SAP_BASIS          | 702     | SAPKB70218          |
| SAP_BASIS          | 730     | SAPKB73015          |
| SAP_BASIS          | 731     | SAPKB73118          |
| SAP_BASIS          | 740     | SAPKB74013          |
| SAP_BASIS          | 740     | SAPKB74014          |
| SAP_BASIS          | 750     | SAPK-75001INSAPBASIS |

Additionally, correction instructions are supplied via this SAP Note.

**Correction Instructions**
Corrections information is provided in [Correction Instructions](https://me.sap.com/corrins/0002319172/41).

**Prerequisites**
1. Implement [SAP Note 2142551](https://me.sap.com/notes/2142551) - "Whitelist service for Clickjacking Framing Protection in AS ABAP".
2. For systems with SAP_BASIS releases 700, 701, 710, and 711, set the parameter `~webgui_new_design=1` as described in [SAP Note 1637287](https://me.sap.com/notes/1637287) - DCK: New design for SAP GUI for HTML in SAP_BASIS 700/701/710/711.
3. These notes are prerequisites for implementing [SAP Note 2319172](https://me.sap.com/notes/2319172) - "Whitelist based Clickjacking Framing Protection in SAP GUI for HTML".
4. Perform the following manual steps:
   - Create message ITS_P106. Log on in English and start transaction SE91 "Messages".
   - As message class name, enter **ITS_P**.
   - Create message **106** with Message Short Text **Internet Transaction Server (ITS) is not available**.
   - Set the flag **Self-Explanatory**.
   - Save the message.

**References**
- [SAP Note 2319727](https://me.sap.com/notes/2319727) - Clickjacking protection framework in SAP Netweaver AS ABAP and AS Java.
- [SAP Note 2207791](https://me.sap.com/notes/2207791) - SAP GUI for HTML: Whitelist-Service zur Clickjacking Framing Protection.
- [SAP Note 2142551](https://me.sap.com/notes/2142551) - Whitelist service for Clickjacking Framing Protection in AS ABAP.

**Available Actions**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000013693152017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0002319172?language=en-US&token=29881C288F53445A74280FAC4D57B1E7)
- [Edit](https://i7p.wdf.sap.corp/sap/support/notes/edit/0002319172) *(Visible to authorized users)*
- [Show Changes](https://me.sap.com/notesLatestChanges/0002319172/E/diff)
- [Share by Email](#) *(Event-based action)*
- [Open in New Window](#) *(Event-based action)*

**Translations**
Available languages:
- [Deutsch](https://me.sap.com/notes/0002319172/D)
- [日本語 (Machine Translation)](https://me.sap.com/notes/0002319172/J)
- [Português (Machine Translation)](https://me.sap.com/notes/0002319172/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0002319172/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0002319172/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0002319172/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0002319172/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0002319172/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0002319172/3)

**Credits**
Credits to [redrays.io](https://redrays.io) for support in providing this information.