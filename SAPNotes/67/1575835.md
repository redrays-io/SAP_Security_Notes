1575835 - Missing authorization check in WebClient UI Framework

---

**SAP Security Note 1575835**

**Type:** SAP Security Note  
**Version:** 3  
**Release Status:** Released for Customer  
**Released On:** July 12, 2011  
**Category:** Program error  
**Priority:** Correction with high priority  
**Component:** Cross-Application Components > WebClient User Interface > Application Frame

### **Description**
An authenticated user can use functions of the WebClient UI Framework to which access should be restricted. This may result in an escalation of privileges.

**Other Terms:**  
authorization, authorization-check, WebClient UI Framework

**Reason and Prerequisites:**  
The WebClient UI Framework does not contain authorization checks for verifying an authenticated user's permissions to access certain functions. This oversight can lead to undesired system behavior.

### **Solution**
1. **Central User Administration (CUA) Configuration:**
   - The CUA is invoked via an RFC destination.  
   - **SAP Recommendation:**  
     Always configure the RFC destination to use the current user instead of a statically maintained user. This ensures that all necessary authorization checks are performed in the CUA system with the current user's credentials.
   
2. **Alternative Setup (Not Recommended):**
   - If using the current user in the RFC destination is not feasible (e.g., local users don't exist in the CUA system and you prefer not to create them), a statically maintained user can be used.  
   - **Note:** This setup is not recommended by SAP.
   
3. **Local System Checks:**
   - The corrections included in this note will verify if the current user has the authorization to assign PFCG roles to users.
   
4. **Prerequisite SAP Note:**  
   - [SAP Note 1557182](https://me.sap.com/notes/1557182) from SAP_BASIS is required before implementing these corrections.
   
5. **Import Corrections:**  
   - Import the corrections provided in this note. Be aware that there are manual steps that need to be processed post-import.

### **Manual Activities**
- **Create Custom Messages in Transaction SE91:**
  1. **For WEBCUIF Component:**
     - **Message Class:** CRM_UI_ROLE_LOG
     - **Messages to Create:**
       - **040:** RFC destination &1 cannot be used (Self-explanatory: Yes)
       - **041:** Check notes 1537159 and 1557182 (Self-explanatory: Yes)
       - **042:** &1&2 (Self-explanatory: Yes)
     - **Steps:**
       - In transaction SE91, create messages 040, 041, and 042 with the specified texts.
       - Save the messages.
  
  2. **For CRMUIF Component:**
     - **Repeat the same steps as above for the CRMUIF component.**
  
### **Support Packages**
- **CRMUIF 600:**
  - [SAPK-60012INCRMUIF](https://me.sap.com/supportpackage/SAPK-60012INCRMUIF)
  
- **WEBCUIF 700:**
  - [SAPK-70010INWEBCUIF](https://me.sap.com/supportpackage/SAPK-70010INWEBCUIF)
  
- **WEBCUIF 701:**
  - [SAPK-70105INWEBCUIF](https://me.sap.com/supportpackage/SAPK-70105INWEBCUIF)
  
- **WEBCUIF 730:**
  - [SAPK-73002INWEBCUIF](https://me.sap.com/supportpackage/SAPK-73002INWEBCUIF)

### **Download & Print**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000009349892017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001575835?language=en-US&token=88A643C2ED9A9AB588850DFD551D571B)

### **Prerequisites**
- [SAP Note 1282024](https://me.sap.com/notes/1282024) – CUA support for CRMD_UI_ROLE_ASSIGN (CRM-FRW-ROL) for CRMUIF 600
- [SAP Note 1557182](https://me.sap.com/notes/1557182) – Downport: Method CL_SUSR_BASIC_TOOLS=>AUTH_CHECK_BY_BNAME (BC-SEC-USR-ADM) for SAP_BASIS versions 700, 701, 702
- [SAP Note 1282024](https://me.sap.com/notes/1282024) – CUA support for CRMD_UI_ROLE_ASSIGN (CRM-FRW-ROL) for WEBCUIF 700

---

*Credits: Information provided by [redrays.io](https://redrays.io)*