SAP Security Note 1517094 - CRM-IC: Session Access Token

**Overview**

- **Note Number**: 1517094
- **Type**: SAP Security Note
- **Category**: Program error
- **Priority**: Correction with medium priority
- **Status**: Released for Customer
- **Released On**: July 12, 2011
- **Component**: CA-GTF-IC-FRW-MES (Cross-Application Components)

**Symptom**

After implementing and activating security-relevant changes in SAP Netweaver ([Note 1532777](https://me.sap.com/notes/1532777)), the CRM Interaction cannot be started from the browser due to several communication issues, such as:

- **CTI → Worker session**
- **Agent session → Worker session**
- **Browser polling / SAM communication → ICM or Worker Session**

Errors observed include:

- `"400 Session not found"`
- `HTTPIO_USER_VALIDATION_SSOCOOKIE_MISSING` ([Note 1266780](https://me.sap.com/notes/1266780))
- `HTTPIO_USER_VALIDATION_SSOCOOKIE_INVALID`

**Solution**

1. **Prerequisite**: Apply the correction from [Note 1420203](https://me.sap.com/notes/1420203) (SAP_BASIS) to support Session Access Tokens.
2. Implement the corrections attached to this note based on your system's Support Package and CRMUIF, WEBCUIF, or SAP_ABA version:
   - **Important**: If applying CRMUIF corrections, do **not** apply the SAP_ABA correction.

**Additional Information**

- **Download for SNOTE**: [Download Link](https://notesdownloads.sap.com/note/0040000008994112017)
- **PDF Version**: [View PDF](https://me.sap.com/sap/support/sfm/notes/print/0001517094?language=en-US&token=E9866ED1619AC44B06BAB5DB10F2DC47)

**References**

- [1521197 - Update #1 to Security Note 1517094](https://me.sap.com/notes/1521197)
- [1865571 - HREIC: Phone Calls are not Received in EIC](https://me.sap.com/notes/1865571)
- [1658516 - Applets fail due to XSRF protection (COOKIE_NOT_FOUND)](https://me.sap.com/notes/1658516)
- [1301591 - HTTP 400 - Session not found (Stateful HTTP communication)](https://me.sap.com/notes/1301591)
- [1266780 - User check for each HTTP request](https://me.sap.com/notes/1266780)

**Support Packages**

Ensure relevant support packages are applied. Refer to the [Support Package](https://me.sap.com/supportpackage/SAPK-70009INWEBCUIF) section of this note for more details.

For more information, visit the [SAP Security Notes](https://me.sap.com/).

*Credits to [Redrays.io](https://redrays.io) for support and information provided.*