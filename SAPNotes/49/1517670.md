1517670 - Potential disclosure of persisted data in SuPM v1.0

**Symptom**

A malicious user can exploit SuPM v1.0 and use specially crafted inputs to modify database commands, resulting in the retrieval of additional information persisted by the system.

**Other Terms**

- SQL injection
- Database
- SuPM v1.0
- Sustainability Performance Management

**Reason and Prerequisites**

The problem is caused by an SQL injection vulnerability. The code composes an SQL statement that contains strings that can be altered by a malicious user. The manipulated SQL statement can then be used to retrieve data from the database.

**Prerequisite:**

Please ensure that [Note 1487337](https://me.sap.com/notes/1487337) is implemented in the system before applying this note.

**Solution**

1. Make sure [Note 1487337](https://me.sap.com/notes/1487337) is implemented prior to this note.
2. Implement the attached correction instructions available [here](https://me.sap.com/corrins/0001517670/8825).

**Download and PDF Version**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008998082017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001517670?language=en-US&token=877EE7FFC8B90091574D6FA9E0447575)

**References**

- This document refers to [Note 1487337 - Downporting the class CL_ABAP_DYN_PRG](https://me.sap.com/notes/1487337).

**Software Components Affected**

- **SR_CORE** from version 100 to 100

**Support Package**

- **SR_CORE 100**: [SAPK-10006INSRCORE](https://me.sap.com/supportpackage/SAPK-10006INSRCORE)

**Correction Instructions**

- **SR_CORE**: 1 Correction Instruction available [here](https://me.sap.com/corrins/0001517670/8825)

**Prerequisites**

Ensure the following notes are applied before implementing this note:

1. [1411305 - Initial Short dump in General Settings if no Org. Units](https://me.sap.com/notes/1411305)
2. [1437122 - Material hierarchy list doesn't load in SuPM application](https://me.sap.com/notes/1437122)
3. [1449590 - Language Independent custom attributes causes error](https://me.sap.com/notes/1449590)

**CVSS**

- **CVSS Score**: 0
- **CVSS Vector**: Not available

*Credits: Thanks to [redrays.io](https://redrays.io) for support in providing this information.*