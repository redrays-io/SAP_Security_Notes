2027715 - Switchable authorization checks for RFC in FI-CAX

## Overview

**SAP Note Number:** 2027715  
**Title:** Switchable authorization checks for RFC in FI-CAX  
**Type:** SAP Security Note  
**Released On:** November 11, 2014  
**Priority:** Correction with medium priority  
**Status:** Released for Customer  

## Description

This SAP Note introduces new switchable authorization checks for Remote Function Call (RFC) function modules in FI-CAX (Financial Accounting Contract Accounts Receivable and Payable).

While RFC function modules are typically secured using the `S_RFC` authorization object, it has been identified that additional authorization checks might be necessary to ensure secure execution for certain function modules. This note provides enhanced security measures by implementing switchable authorization scenarios.

## Solution

### Activation of Authorization Checks

1. **Upload Scenario Definitions:**
   - Download the scenario definition files:
     - [FKK_DM_CASEITEMSH_MODIFY.txt](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000547082014&iv_version=0001&iv_guid=464A0487A5145046ACEFEEDE85059EBB)
     - [FKK_CA_ABWVK_GETLIST.txt](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000547082014&iv_version=0001&iv_guid=F9097A7CB3875842B1D0D7BCF691C60D)
   - Go to transaction `SACF` and select `SACF_TRANSFER`.
   - Choose the "Upload" option and select the downloaded `.txt` files.
   - Assign each scenario definition to its respective development package (`FKKB_DM` and `FKKV`).

2. **Create Productive Authorization Scenarios:**
   - In transaction `SACF`, navigate to "Scenario Definition".
   - Select the uploaded scenario and transfer it to a productive scenario by setting the status to either "Active" or "Logging":
     - **Active:** Activates the authorization check and enables logging to the Security Audit Log.
     - **Logging:** Enables logging without enforcing the authorization check, useful for identifying required authorizations.

3. **Configure Security Audit Log:**
   - Ensure that the Security Audit Log is active by checking transaction `SM19`.
   - Create a new filter to capture relevant audit messages:
     - **Non-Critical:** DUO (authorization successful) and DUP (authorization failed).
     - **Critical:** DUQ (scenario changes).

4. **Adjust User Roles:**
   - Use report `RSAU_SELECT_EVENTS` to identify users affected by the new authorization scenarios.
   - Update roles to include the necessary authorizations based on the audit logs and system traces (`STAUHTRACE` or `ST01`).

### Affected RFC Function Modules

- `FKK_CASEITEMSH_MODIFY`
- `FKK_FICA_ABWVK_LIST`

## Prerequisites

- Ensure the application of [SAP Note 1995667](https://me.sap.com/notes/1995667) for resolving `SACF: Navigation error` in the `SAP_BASIS` component.

## References

- [Further improvements for RFC security (SAP Note 2078596)](https://me.sap.com/notes/2078596)

## Attachments

- [FKK_CA_ABWVK_GETLIST.TXT](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000547082014&iv_version=0001&iv_guid=464A0487A5145046ACEFEEDE85059EBB)
- [FKK_DM_CASEITEMSH_MODIFY.TXT](https://userapps.support.sap.com/sap/support/sapnotes/public/services/attachment.htm?iv_key=012006153200000547082014&iv_version=0001&iv_guid=F9097A7CB3875842B1D0D7BCF691C60D)

## Available Languages

- [Japanese](https://me.sap.com/notes/0002027715/J)
- [Deutsch](https://me.sap.com/notes/0002027715/D)
- [Português (Machine Translation)](https://me.sap.com/notes/0002027715/P)
- [Español (Machine Translation)](https://me.sap.com/notes/0002027715/S)
- [Français (Machine Translation)](https://me.sap.com/notes/0002027715/F)
- [Italiano (Machine Translation)](https://me.sap.com/notes/0002027715/I)
- [Русский (Machine Translation)](https://me.sap.com/notes/0002027715/R)
- [中文 (Machine Translation)](https://me.sap.com/notes/0002027715/1)
- [한국어 (Machine Translation)](https://me.sap.com/notes/0002027715/3)

## Support Package Information

This note is applicable to the following FI-CA software component versions:

- **FI-CA 600:** [SAPK-60026INFICA](https://me.sap.com/supportpackage/SAPK-60026INFICA)
- **FI-CA 602:** [SAPK-60216INFICA](https://me.sap.com/supportpackage/SAPK-60216INFICA)
- **FI-CA 603:** [SAPK-60315INFICA](https://me.sap.com/supportpackage/SAPK-60315INFICA)
- **FI-CA 604:** [SAPK-60416INFICA](https://me.sap.com/supportpackage/SAPK-60416INFICA)
- **FI-CA 605:** [SAPK-60513INFICA](https://me.sap.com/supportpackage/SAPK-60513INFICA)
- **FI-CA 606:** [SAPK-60613INFICA](https://me.sap.com/supportpackage/SAPK-60613INFICA)
- **FI-CA 616:** [SAPK-61608INFICA](https://me.sap.com/supportpackage/SAPK-61608INFICA)
- **FI-CA 617:** [SAPK-61706INFICA](https://me.sap.com/supportpackage/SAPK-61706INFICA)

## Credits

Credits to [redrays.io](https://redrays.io) for supporting the provision of this information.