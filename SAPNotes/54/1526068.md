SAP Security Note 1526068 - XSRF JAVA : MSS FIN

**Symptom**

A malicious user can trigger functionality of Business Package BP MSS 60.1 (part: My Budget) without authentication and authorization.

**Other Terms**

Cross-Site Request Forgery (XSRF), Manager Self-Service

**Reason and Prerequisites**

BP MSS 60.1 executes certain functions through referencing specific URLs. When an attacker tricks an authenticated user's browser into making a request containing a specific URL and parameters, the function is executed with the user's rights. If present, the attacker may use a Cross Site Scripting (XSS) attack to trigger the exploit or use an approach where a clickable link is presented to the victim.

**Solution**

It is recommended **not** to use specific iViews and HTMLB Java pages of the Business Package BP MSS 60.1 (part: My Budget) due to the mentioned security risks. This Business Package is part of ERP 2004, which is based on HTMLB/Java. You are instructed to delete the corresponding iViews as described below. Consequently, all Portal Objects linked to these iViews must also be adapted by removing existing links to the deleted iViews.

**Steps to Delete Delivered iViews:**

1. Navigate to your Portal Content Administration.
2. Delete the following delivered iViews found in your Portal Content Directory under:
   ```
   Portal-Content / Migrated Content / EP 5.0 / iViews / Manager Self-Service: My Budget
   ```
   **Folder ID:** `pcd:portal_content/com.sap.portal.migrated/ep_5.0/iviews/Manager Self-Service: My Budget`

3. The following iViews must be deleted:
   
   - **Activity Input / Output**
     - **ID:** `pcd:portal_content/com.sap.portal.migrated/ep_5.0/iviews/Manager Self-Service: My Budget/com.sap.pct.fin.mss.inoutoverview`
     - **Used Code Link:** `com.sap.pct.fin.iaainout.default`
   
   - **Appropriation Request**
     - **ID:** `.../com.sap.pct.fin.mss.appropriationrequest`
     - **Used Code Link:** `com.sap.pct.fin.appropriationrequest.default`
   
   - *(Continue listing all iViews as per the JSON data)*

**Customer Defined iViews**

If you have defined custom iViews based on the following HTMLB pages, it is recommended to delete those iViews as well. Identify your corresponding iViews by checking the `Code Link` attribute.

**List of HTMLB Pages to Remove:**

- `com.sap.pct.fin.iaainout.default`
- `com.sap.pct.fin.appropriationrequest.default`
- `com.sap.pct.fin.assetcockpit.default`
- *... and others as listed in the solution section.*

**Documentation for Deletion of iViews:**

Refer to the [SAP NetWeaver Library 2004](https://me.sap.com/) under:
```
Portal -> Administration Guide -> Content Administration -> Portal Content Studio -> Portal Catalogue -> Managing Objects in the Portal Catalogue -> Deleting a Folder or Object.
```

**References**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000017125432017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001526068?language=en-US&token=444766BCD69AB37DC1BE5A0761217852)

*For more information, visit [SAP Support](https://me.sap.com/).*

---

*Credits to [Redrays.io](https://redrays.io) for support in providing this information.*