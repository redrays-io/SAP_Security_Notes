2038210 - Switchable authorization checks for RFCs in In House Cash

**SAP Note 2038210** introduces new switchable authorization checks for RFC function modules within the In House Cash (IHC) application. This enhancement aims to bolster system security by ensuring that remote calls to RFCs are adequately protected beyond the existing S_RFC authorization object checks.

### Summary

#### Symptom
Remote Function Calls (RFCs) in the In House Cash application are currently protected by the S_RFC authorization object. However, it has been identified that relying solely on S_RFC may not suffice for all RFC function modules, potentially exposing the system to unauthorized access.

#### Reason and Prerequisites
The existing authorization checks using S_RFC might not be comprehensive enough for certain RFC function modules, necessitating additional security measures. This note provides new switchable authorization checks that can be activated to enhance security.

#### Solution
New switchable authorization checks are implemented and delivered in an inactive state to maintain backward compatibility. These checks can be activated manually using transaction **SACF**. Detailed manual correction instructions are provided within the note to guide administrators through the activation process.

### Actions
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000012116292017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0002038210?language=en-US&token=D70C87EB90D04A5191210766E95B50F4)
- [Share by Email](https://me.sap.com) *(Replace with actual URL if available)*
- [Open in New Window](https://me.sap.com) *(Replace with actual URL if available)*

### Affected Software Components

| Software Component | From | To |
|--------------------|------|----|
| EA-FINSERV         | 600  | 600|
| EA-FINSERV         | 603  | 603|
| EA-FINSERV         | 604  | 604|
| EA-FINSERV         | 605  | 605|
| EA-FINSERV         | 606  | 606|
| EA-FINSERV         | 616  | 616|
| EA-FINSERV         | 617  | 617|

### Support Package Information

| Software Component Version | Support Package | URL |
|----------------------------|-----------------|-----|
| EA-FINSERV 600             | [SAPKGPFD28](https://me.sap.com/supportpackage/SAPKGPFD28) | [Link](https://me.sap.com/supportpackage/SAPKGPFD28) |
| EA-FINSERV 603             | [SAPK-60317INEAFINSRV](https://me.sap.com/supportpackage/SAPK-60317INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-60317INEAFINSRV) |
| EA-FINSERV 604             | [SAPK-60418INEAFINSRV](https://me.sap.com/supportpackage/SAPK-60418INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-60418INEAFINSRV) |
| EA-FINSERV 605             | [SAPK-60515INEAFINSRV](https://me.sap.com/supportpackage/SAPK-60515INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-60515INEAFINSRV) |
| EA-FINSERV 606             | [SAPK-60614INEAFINSRV](https://me.sap.com/supportpackage/SAPK-60614INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-60614INEAFINSRV) |
| EA-FINSERV 616             | [SAPK-61609INEAFINSRV](https://me.sap.com/supportpackage/SAPK-61609INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-61609INEAFINSRV) |
| EA-FINSERV 617             | [SAPK-61706INEAFINSRV](https://me.sap.com/supportpackage/SAPK-61706INEAFINSRV) | [Link](https://me.sap.com/supportpackage/SAPK-61706INEAFINSRV) |

### Correction Instructions
To activate the new switchable authorization checks, follow these manual activities:

1. **Create the Authorization Scenario Definition:**
   - Start transaction **SACF** in the development system.
   - Verify if the scenario definition **IHC_BANKSTMT_CHANGE** exists. If not, download the `IHC_BANKSTMT_CHANGE.txt` attachment from the note.
   - Use transaction **SACF_TRANSFER** to upload the scenario definition and assign it to the development package **FIN_IHC**.

2. **Activate the Productive Authorization Scenario:**
   - In **SACF**, select the **IHC_BANKSTMT_CHANGE** scenario definition.
   - Transfer it to a productive scenario by setting the status to **Active** or **Logging**.

3. **Configure Security Audit Log:**
   - Ensure that **Security Audit Log** is activated via transaction **SM19**.
   - Create a new filter to include relevant authorization check events.

4. **Adjust User Roles:**
   - Use report **RSAU_SELECT_EVENTS** to identify users needing additional authorizations.
   - Update roles accordingly to comply with the new authorization scenario.

*Note: These manual activities must be performed in each system where the note is transported.*

### Prerequisites
Ensure the following SAP Notes are applied before implementing this note:

- [1988903](https://me.sap.com/notes/1988903) - Check whether a function module was called via external RFC
- [1995667](https://me.sap.com/notes/1995667) - SACF: Navigation error

### References
- [SAP Note 2078596](https://me.sap.com/notes/2078596) - Further improvements for RFC security

For more detailed information and updates, visit the [SAP Support Portal](https://me.sap.com/).

*Credits to [Redrays](https://redrays.io) for supporting the provision of this information.*