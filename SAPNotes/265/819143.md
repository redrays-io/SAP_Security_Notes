TREX 6.1/7.0 Security: Using TREX Specific Root Certificate (SAP Security Note 819143)

**SAP Security Note 819143: TREX 6.1/7.0 Security - Using TREX Specific Root Certificate**

**Summary:**
This security note provides guidance on configuring Search and Classification (TREX) for secure communication and authentication by utilizing a TREX-specific root certificate. Implementing two distinct root certificates enhances security by preventing unauthorized access through non-secure TREX admin tools.

**Details:**

- **Type:** SAP Security Note  
- **Priority:** Correction with High Priority  
- **Status:** Released for Customer  
- **Released On:** October 8, 2009  
- **Component:** Basis Components > TREX  
- **Category:** Customizing

**Description:**
If TREX is configured using only one root certificate (the root certificate of the application using TREX, e.g., SAP Enterprise Portal), it may be susceptible to unauthorized access via non-secure TREX instances. To mitigate this risk, it is recommended to use two distinct root certificates:

1. **Application Root Certificate:** Used for secure communication between the TREX Preprocessor and the Web Server of the application.
2. **TREX-Specific Root Certificate:** Ensures secure communication among TREX components, such as between the TREX Web Server and Java Client, TREX Web Server and Name Server, and between all TREX servers via TREXNet.

**Solution:**

**A) Current Setup: Using a Single Root Certificate**

*Steps Involved:*
1. Import the applicationâ€™s root certificate into the TREX Preprocessor.
2. Configure secure communications between TREX components using the imported certificate.

**B) Recommended Setup: Using Two Root Certificates**

*Steps Involved:*
1. **Create a TREX-Specific Root Certificate:**
   - Request a TREX-specific root certificate from a Certification Authority (CA).
   - Import the TREX-specific root certificate into the TREX Java Client, TREX Web Server, and TREX Name Server.
2. **Configure Each TREX Host:**
   - Generate a client certificate for each TREX host, signed by the TREX-specific root certificate.
   - Import these certificates to ensure that only authorized TREX hosts can communicate with each other.

**Download and Resources:**

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000015851122017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0000819143?language=en-US&token=3C603323C7BD15AF3F5169B60CF2EBA4)

**References:**
This document references the following related SAP Notes:
- [951287: Update to TREX 7.0 SP08](https://me.sap.com/notes/951287)
- [934208: Update to TREX 7.0 SP7](https://me.sap.com/notes/934208)
- [854356: Update to TREX 6.1 SP13](https://me.sap.com/notes/854356)
- [850923: Update to TREX 6.1 SP13](https://me.sap.com/notes/850923)
- [811774: Update to TREX 6.1 SP11](https://me.sap.com/notes/811774)

For more information, visit the [SAP Support Portal](https://me.sap.com/).

*Credits to [redrays.io](https://redrays.io) for support in providing this information.*