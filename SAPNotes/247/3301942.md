SAP Security Note 3301942 - [CVE-2023-2827] Missing Authentication in SAP Plant Connectivity and Production Connector for SAP Digital Manufacturing

**Symptom**
SAP Plant Connectivity 15.5 (PCo) or the Production Connector for SAP Digital Manufacturing do not validate the signature of the JSON Web Token (JWT) in the HTTP request sent from SAP Digital Manufacturing. As a result, unauthorized callers from the internal network could send service requests to PCo or the Production Connector, potentially impacting the integrity of the integration with SAP Digital Manufacturing.

**Other Terms**
Web service, cloudservices, DMC, [CVE-2023-2827](https://www.cve.org/CVERecord?id=CVE-2023-2827)

**Reason and Prerequisites**
You are using the integration of SAP Plant Connectivity or the Production Connector with SAP Digital Manufacturing.

**Solution**
Follow the detailed instructions in [SAP Note 3304867](https://me.sap.com/notes/3304867) to fix the issue.

- For the Production Connector 1.0 or 1.1: Install support package 02 or higher or any patch/support package that includes this support package.
- For SAP Plant Connectivity 15.5: Install patch 19 for SAP Plant Connectivity 15.5 with support package level 04.

After installation, a new tab **JWT Validation** will appear in the configuration UI for cloud integration. Maintain the parameters for JWT signature validation using the help button on this tab. Warning messages will appear if JWT validation is not configured. In the next Production Connector release, this configuration will become mandatory, preventing service requests without proper configuration.

**Workaround**
There is no real workaround known for this issue. However, if Plant Connectivity or the Production Connector reside on the same machine as the Cloud Connector, you can reduce the risk by blocking access to the cloud services port using a firewall. If the Cloud Connector is on a different machine, block the port for all remote computers except the Cloud Connector machine.

**Port Information:**
- **Plant Connectivity:** Maintain the port of cloud services in the Management Console under *Tools → Options → Global Settings → Main Service*.
- **Production Connector:** Maintain the port in the Control Center under the *Cloud Integration* view on the *Port Settings* tab.

**Notes:**
This workaround is temporary and not a permanent solution. SAP strongly recommends applying the corrections outlined in the security note.

**CVSS**
- **Score:** 7.9
- **Vector:** [CVSS:3.0/AV:A/AC:H/PR:L/UI:N/S:C/C:L/I:H/A:H](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:A/AC:H/PR:L/UI:N/S:C/C:L/I:H/A:H)

**References**
- [SAP Note 3304867](https://me.sap.com/notes/3304867) - Missing validation of JSON Web Tokens in the integration with SAP Digital Manufacturing
- [SAP Note 3303001](https://me.sap.com/notes/3303001) - Release note Production Connector 1.2 for SAP Digital Manufacturing

**Validity**
- **PRODUCTIONCONNECT:** Version 1.0 to 1.0+
- **PLANTCONNECT:** Version 15.5

For more details, visit [SAP Support](https://me.sap.com/notes/3301942).

*Credits to [redrays.io](https://redrays.io) for support in providing this information.*