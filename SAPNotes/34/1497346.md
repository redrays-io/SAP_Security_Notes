1497346 - Unnecessary database SELECT

**SAP Note/KBA**: 1497346  
**Type**: SAP Security Note  
**Version**: 3  
**Recency**: New  
**Language**: English  
**Master Language**: German  
**Category**: Program error  
**Priority**: Correction with high priority  
**Status**: Released for Customer  
**Released On**: 14.12.2010  
**Component**: Customer Relationship Management > Middleware > Middleware Adapter (CRM-MW-ADP)

### Description

#### Symptom
A malicious user can exploit and use specially crafted inputs, resulting in the retrieval of information.

#### Other Terms
SQL injection, database

#### Reason and Prerequisites
The problem is caused by an SQL injection vulnerability. The code composes an SQL statement including strings that can be altered by a malicious user. The manipulated SQL statement can then be used to retrieve data from the database.

#### Solution
Import the relevant Support Package or implement the correction instructions. Manual steps are not necessary.

### Valid Software Components

- **PI_BASIS** from 2004_1_620 to 2004_1_640
- **PI_BASIS** from 2005_1_620 to 2005_1_700
- **PI_BASIS** from 2006_1_620 to 2006_1_710
- **PI_BASIS** from 701 to 702
- **PI_BASIS** from 711 to 730
- **PI** from 2004_1_46C to 2004_1_46C

### Support Packages

- **PI 2004_1_46C**: [SAPKIPZI4J](https://me.sap.com/supportpackage/SAPKIPZI4J)
- **PI_BASIS 2005_1_620**: [SAPKIPYJ5M](https://me.sap.com/supportpackage/SAPKIPYJ5M)
- **PI_BASIS 2005_1_640**: [SAPKIPYJ6L](https://me.sap.com/supportpackage/SAPKIPYJ6L)
- **PI_BASIS 2005_1_700**: [SAPKIPYJ7N](https://me.sap.com/supportpackage/SAPKIPYJ7N)
- **PI_BASIS 2006_1_620**: [SAPKIPYK12](https://me.sap.com/supportpackage/SAPKIPYK12)
- **PI_BASIS 2006_1_640**: [SAPKIPYL11](https://me.sap.com/supportpackage/SAPKIPYL11)
- **PI_BASIS 2006_1_700**: [SAPKIPYM13](https://me.sap.com/supportpackage/SAPKIPYM13)
- **PI_BASIS 2006_1_710**: [SAPKIPYN12](https://me.sap.com/supportpackage/SAPKIPYN12)
- **PI_BASIS 701**: [SAPK-70108INPIBASIS](https://me.sap.com/supportpackage/SAPK-70108INPIBASIS)
- **PI_BASIS 702**: [SAPK-70205INPIBASIS](https://me.sap.com/supportpackage/SAPK-70205INPIBASIS)
- **PI_BASIS 711**: [SAPK-71106INPIBASIS](https://me.sap.com/supportpackage/SAPK-71106INPIBASIS)
- **PI_BASIS 730**: [SAPK-73002INPIBASIS](https://me.sap.com/supportpackage/SAPK-73002INPIBASIS)

### Correction Instructions

- **PI_BASIS**: [CorrInstr 292](https://me.sap.com/corrins/0001497346/292)
- **PI**: [CorrInstr 48](https://me.sap.com/corrins/0001497346/48)

### Additional Links

- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008862732017)
- [PDF Version](https://userapps.support.sap.com/sap/support/sfm/notes/print/0001497346?language=en-US&token=7E2917C823052C3420BE0942E7D3C5F1)

*Credits to [redrays.io](https://redrays.io) for support to provided information.*