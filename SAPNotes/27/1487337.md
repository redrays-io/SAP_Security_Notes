SAP Security Note 1487337 - Downporting the class CL_ABAP_DYN_PRG

**Description**

The class `CL_ABAP_DYN_PRG` should be downported in all SAP_BASIS releases up to Release 6.20. This class is foundational for various quality improvement measures within the SAP environment.

**Symptom**

In SAP_BASIS releases up to 6.20, the absence of the downported `CL_ABAP_DYN_PRG` class can lead to issues with quality improvement processes that rely on this class.

**Reason and Prerequisites**

- **Reason:** The class is essential for quality improvements and needs to be consistent across supported SAP_BASIS releases.
- **Prerequisites:** Implementing the class using the Note Assistant is required only if another note specifies this note as a prerequisite. There are no dependencies on a specific kernel patch level. However, if you implement the correction instructions for SAP_BASIS Release 6.20, a manual pre-implementation step is required. This is a change from previous versions of this note.

**Solution**

The class is delivered via Support Package and correction instructions. To implement:

1. **Support Package Installation:**
   - Ensure you have the relevant Support Packages installed. Refer to the [Support Package](https://me.sap.com/supportpackage/SAPKB62070) section for specific versions.

2. **Correction Instructions:**
   - Apply the correction instructions provided in the note. Detailed instructions are available [here](https://me.sap.com/corrins/0001487337/41).

3. **Manual Activities:**
   - Execute the following steps in the ABAP Dictionary to create the `STRING_HASHED_TABLE` data type:

```plaintext
1. Call transaction SE11 (ABAP Dictionary).
2. Select "Data type" and enter "STRING_HASHED_TABLE". Choose "Create".
3. Select "Table Type" and continue.
4. Confirm the warning dialog box.
5. Enter "Table of Hashed Strings" as the short text. On the "Line Type" tab, select "Built-in type" and enter "STRING" as the Data Type. On the "Initialization and Access" tab, select "Hashed Table". On the "Key" tab, select "Line type" and "Unique". Save your entries.
6. Enter the package "SABP" and save.
7. Confirm the system warning.
8. Assign the table type to a workbench request.
9. Activate the table type.
```

**References**

- [SAP Note 866020 - SAP encoding functions in the Web environment](https://me.sap.com/notes/866020)
- [SAP Note 1924766 - HR-RU: Correction of checkman errors](https://me.sap.com/notes/1924766)
- [SAP Note 1777867 - Potential SQL injection in FI-CA](https://me.sap.com/notes/1777867)
- [SAP Note 1761068 - Correction of check report CONDITION_ACCESS_CHECK](https://me.sap.com/notes/1761068)
- [SAP Note 1705828 - Performance optimization in CL_ABAP_DYN_PRG](https://me.sap.com/notes/1705828)

**Support Package Information**

- **SAP_BASIS 620:** [SAPKB62070](https://me.sap.com/supportpackage/SAPKB62070), [SAPKB62069](https://me.sap.com/supportpackage/SAPKB62069)
- **SAP_BASIS 640:** [SAPKB64028](https://me.sap.com/supportpackage/SAPKB64028), [SAPKB64027](https://me.sap.com/supportpackage/SAPKB64027)
- **SAP_BASIS 700:** [SAPKB70024](https://me.sap.com/supportpackage/SAPKB70024), [SAPKB70023](https://me.sap.com/supportpackage/SAPKB70023)
- **SAP_BASIS 710:** [SAPKB71011](https://me.sap.com/supportpackage/SAPKB71011), [SAPKB71012](https://me.sap.com/supportpackage/SAPKB71012)
- **SAP_BASIS 711:** [SAPKB71107](https://me.sap.com/supportpackage/SAPKB71107), [SAPKB71106](https://me.sap.com/supportpackage/SAPKB71106)
- **SAP_BASIS 720:** [SAPKB72004](https://me.sap.com/supportpackage/SAPKB72004), [SAPKB72005](https://me.sap.com/supportpackage/SAPKB72005)
- **SAP_BASIS 730:** [SAPKB73002](https://me.sap.com/supportpackage/SAPKB73002), [SAPKB73001](https://me.sap.com/supportpackage/SAPKB73001)

**Additional Information**

- **CVSS Score:** 0
- **Manual Activities:** 1 Error state

For further details and downloads:
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000008801602017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0001487337?language=en-US&token=4949B8FFA5C8E7D4C9179D73DBCBDFB7)

*Information provided by [redrays.io](https://redrays.io).*