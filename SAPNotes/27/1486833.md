SAP Security Note 1486833 - Missing Authorization Check in SCM

**Title:** 1486833 - Missing Authorization check in SCM

**Symptom**
An authenticated user can use functionality to which access should be restricted. This can potentially result in an escalation of privileges.

**Other Terms**
Authorization, authorization check, SAP_SCM_INTEGRATION, /SAPAPO/DP_SUPERUSER, SCM

**Reason and Prerequisites**
Roles `SAP_SCM_INTEGRATION` and `/SAPAPO/DP_SUPERUSER` lack permission checks for an authenticated user's authorization to access some of their functionalities. This may result in undesired system behavior.

**Solution**
The role `/SAPAPO/DP_SUPERUSER` is obsolete and must be replaced by the role `SAP_SCM_FCS_PLN_ADM`. Additionally, this role should be manually adapted.

**Implement the support package or execute the following manual steps:**

**For Role SAP_SCM_INTEGRATION:**
1. Go to transaction `PFCG`.
2. Enter the role `SAP_SCM_INTEGRATION` and click the "Change" button.
3. Navigate to the "Authorizations" tab.
4. Click "Change Authorization Data".
5. Expand "Cross-application Authorization Objects".
6. Select "Transaction Code Check at Transaction Start" and press the remove button.
7. Click the delete button (trash can symbol) and confirm.
8. Return to the main screen of transaction `PFCG`, enter the role `SAP_SCM_INTEGRATION`, and press the transport button.
9. Ensure "Also Transport generated profiles for Single Roles" is active.
10. Execute and continue through the dialog boxes, activating "Personalization" when prompted.
11. Complete the transport.

**For Role /SAPAPO/DP_SUPERUSER:**
1. Go to transaction `PFCG`.
2. Enter the role `/SAPAPO/DP_SUPERUSER` and click the "Change" button.
3. Navigate to the "Authorizations" tab.
4. Click "Change Authorization Data".
5. Expand "Cross-application Authorization Objects".
6. Deactivate the entries for "Transaction Code Check at Transaction Start" with the value "All transactions".
7. Click the delete button (trash can symbol) and confirm.
8. Return to the main screen of transaction `PFCG`, enter the role `/SAPAPO/DP_SUPERUSER`, and press the transport button.
9. Ensure "Also Transport generated profiles for Single Roles" is active.
10. Execute and continue through the dialog boxes, activating "Personalization" when prompted.
11. Select a transport and transport the role.
12. Exit the transaction.

**Affected Components:**
- Supply Chain Management > Advanced Planning and Optimization > Interfaces (SCM-APO-INT)

**Support Packages:**
- **SCM 500:** [SAPKY50019](https://me.sap.com/supportpackage/SAPKY50019)
- **SCM 510:** [SAPKY51015](https://me.sap.com/supportpackage/SAPKY51015)
- **SCM 700:** [SAPKY70009](https://me.sap.com/supportpackage/SAPKY70009)
- **SCM 701:** [SAPKY70103](https://me.sap.com/supportpackage/SAPKY70103)

**Download Links:**
- [Download for SNOTE](https://notesdownloads.sap.com/note/0040000017061742017)
- [PDF Version](https://me.sap.com/sap/support/sfm/notes/print/0001486833?language=en-US&token=AAB15AB020F1C2398507C381AD07A417)

**Available Translations:**
- [Japanese](https://me.sap.com/notes/0001486833/J) (Human Translation)
- [Deutsch](https://me.sap.com/notes/0001486833/D) (Human Translation)
- [Português](https://me.sap.com/notes/0001486833/P) (Machine Translation)
- [Español](https://me.sap.com/notes/0001486833/S) (Machine Translation)
- [Français](https://me.sap.com/notes/0001486833/F) (Machine Translation)
- [Italiano](https://me.sap.com/notes/0001486833/I) (Machine Translation)
- [Русский](https://me.sap.com/notes/0001486833/R) (Machine Translation)
- [中文](https://me.sap.com/notes/0001486833/1) (Machine Translation)
- [한국어](https://me.sap.com/notes/0001486833/3) (Machine Translation)

For more details and updates, visit the [SAP Support Portal](https://me.sap.com/).

*Credits to [Redrays.io](https://redrays.io) for supporting the provision of this information.*